# 生产环境配置示例
# 复制此文件为 application-prod.properties（不提交到 Git）
# 或使用环境变量

# Server配置
server.port=8082
server.servlet.context-path=/

# Spring应用配置
spring.application.name=order-service

# 数据库配置（使用环境变量）
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:jiaoyi}?useUnicode=true&characterEncoding=utf8&useSSL=true&serverTimezone=Asia/Shanghai
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Redis配置（使用环境变量）
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.database=0
spring.data.redis.timeout=5000ms
spring.data.redis.lettuce.pool.max-active=20
spring.data.redis.lettuce.pool.max-idle=10
spring.data.redis.lettuce.pool.min-idle=5
spring.data.redis.lettuce.pool.max-wait=-1ms

# 日志配置（生产环境使用 INFO 级别）
logging.level.root=INFO
logging.level.com.jiaoyi.order=INFO
logging.level.org.springframework.web=WARN
logging.level.com.jiaoyi.order.mapper=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=/var/log/jiaoyi/order-service.log
logging.file.max-size=100MB
logging.file.max-history=30

# 管理端点配置
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# Stripe 配置（使用环境变量）
stripe.enabled=true
stripe.secret-key=${STRIPE_SECRET_KEY:}
stripe.publishable-key=${STRIPE_PUBLISHABLE_KEY:}
stripe.webhook-secret=${STRIPE_WEBHOOK_SECRET:}

# 支付宝配置（使用环境变量）
alipay.app-id=${ALIPAY_APP_ID:}
alipay.private-key=${ALIPAY_PRIVATE_KEY:}
alipay.alipay-public-key=${ALIPAY_PUBLIC_KEY:}

# DoorDash 配置（使用环境变量）
doordash.mock.enabled=${DOORDASH_MOCK_ENABLED:false}
doordash.api.base-url=https://openapi.doordash.com
doordash.api.key=${DOORDASH_API_KEY:}
doordash.api.secret=${DOORDASH_API_SECRET:}

# 微服务调用配置
product.service.url=${PRODUCT_SERVICE_URL:http://localhost:8081}
coupon.service.url=${COUPON_SERVICE_URL:http://localhost:8083}










