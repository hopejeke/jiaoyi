2025-11-19 11:07:47 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 34404 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 11:07:47 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 11:07:47 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 11:07:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 11:07:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 11:07:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'schedNodeMapper' and 'com.jiaoyi.mapper.SchedNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'schedNodeMapper' and 'com.jiaoyi.mapper.SchedNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:07:49 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 11:07:50 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:07:50 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:07:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:07:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:07:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:07:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 11:07:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 11:07:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 11:07:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 11:07:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4117 ms
2025-11-19 11:07:52 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 11:07:52 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 11:07:52 [redisson-netty-2-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 11:07:53 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 11:07:55 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:07:55 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 11:07:55 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:07:55 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - sched_node表已存在，跳过创建
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 11:07:56 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 11:07:57 [main] INFO  o.a.r.s.a.RocketMQAutoConfiguration - a producer (order-timeout-producer-group) init on namesrv localhost:9876
2025-11-19 11:07:58 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:07:58 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-19 11:07:58 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox节点线程池初始化完成 - 线程数: 1（一个应用一个节点）
2025-11-19 11:07:58 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 11:07:58 [main] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 11:07:58 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 11:07:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-19 11:07:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1ecf942f
2025-11-19 11:07:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-19 11:07:58 [main] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - ==>  Preparing: SELECT * FROM sched_node WHERE node_id = ?
2025-11-19 11:07:58 [main] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 11:07:58 [main] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - <==      Total: 1
2025-11-19 11:07:58 [main] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - ==>  Preparing: UPDATE sched_node SET ip = ?, port = ?, expired_time = ?, updated_at = NOW() WHERE node_id = ?
2025-11-19 11:07:58 [main] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - ==> Parameters: 192.168.0.120(String), 8080(Integer), 2025-11-19T11:08:28.191268600(LocalDateTime), 192.168.0.120:8080(String)
2025-11-19 11:07:58 [main] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - <==    Updates: 1
2025-11-19 11:07:58 [main] INFO  com.jiaoyi.service.OutboxService - 节点已存在，更新心跳，节点ID: 192.168.0.120:8080，数据库ID: 1
2025-11-19 11:07:58 [main] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 11:07:58 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程启动，节点ID: 192.168.0.120:8080，数据库ID: 1
2025-11-19 11:07:58 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:07:58 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-19 11:07:58 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:07:58 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:07:58 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-19 11:07:58 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:08:28.495619800(LocalDateTime), 1(Long)
2025-11-19 11:07:58 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:07:58 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:07:58 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:07:58 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:07:58 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:07:58 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:07:58 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:07:58 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:07:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@290c3ae2
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b7c06b2
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27216af2
2025-11-19 11:07:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-19 11:08:00 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:00 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:00 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:00 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:00 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:00 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:00 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:02 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:02 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:02 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:02 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:02 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:02 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:02 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:04 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox线程池初始化完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100, 保活时间: 60秒
2025-11-19 11:08:04 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-11-19 11:08:04 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-11-19 11:08:04 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-19 11:08:04 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:04 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:04 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:04 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:04 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:04 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:04 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:04 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-19 11:08:04 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-19 11:08:05 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-19 11:08:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-19 11:08:06 [main] INFO  com.jiaoyi.JiaoyiApplication - Started JiaoyiApplication in 19.641 seconds (process running for 21.305)
2025-11-19 11:08:06 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T10:28:06.084432900(LocalDateTime)
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==>  Preparing: SELECT * FROM sched_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==> Parameters: 2025-11-19T11:08:06.092624900(LocalDateTime), 100(Integer)
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - <==      Total: 0
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:06 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:06 [scheduling-1] ERROR com.jiaoyi.service.OutboxService - 打印节点状态失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.printNodeStatus(OutboxService.java:582)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713)
	at com.jiaoyi.service.OutboxService$$SpringCGLIB$$0.printNodeStatus(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 26 common frames omitted
2025-11-19 11:08:06 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:06 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:06 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:06 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:06 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:06 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:06 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:08 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:08:08 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:08:38.888852900(LocalDateTime), 1(Long)
2025-11-19 11:08:08 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:08:08 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:08 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:08 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:08 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:08 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:08 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:08 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:10 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:10 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:10 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:10 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:10 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:10 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:10 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:12 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:12 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:12 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:14 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:14 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:14 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:16 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:16 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:16 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:18 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:08:18 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:08:48.927248600(LocalDateTime), 1(Long)
2025-11-19 11:08:18 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:08:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:18 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:18 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:18 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:20 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:20 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:20 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:22 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:22 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:22 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:24 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:24 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:24 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:26 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:26 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:26 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:29 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:08:29 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:08:59.115332400(LocalDateTime), 1(Long)
2025-11-19 11:08:29 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:08:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:29 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:29 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:29 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:31 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:31 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:31 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:31 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19 11:08:31 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2d67c664
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1766e76
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-19 11:08:31 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/test-payment", parameters={}
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.TestController#testPayment()
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.view.InternalResourceView - View name 'forward:', model {}
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.view.InternalResourceView - Forwarding to [/test-payment.html]
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "FORWARD" dispatch for GET "/test-payment.html", parameters={}
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 11:08:31 [http-nio-8080-exec-1] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource test-payment.html.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:408)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json]
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource test-payment.html.]
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "FORWARD" dispatch, status 500
2025-11-19 11:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 11:08:31 [http-nio-8080-exec-7] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 11:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 11:08:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:33 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:33 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:33 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:35 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:35 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:35 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:36 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:36 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:36 [scheduling-1] ERROR com.jiaoyi.service.OutboxService - 打印节点状态失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.printNodeStatus(OutboxService.java:582)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713)
	at com.jiaoyi.service.OutboxService$$SpringCGLIB$$0.printNodeStatus(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 26 common frames omitted
2025-11-19 11:08:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:37 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:37 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:37 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:39 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:08:39 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:09:09.156797300(LocalDateTime), 1(Long)
2025-11-19 11:08:39 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:08:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:39 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:39 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:39 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:41 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:41 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:41 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:43 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:43 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:43 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:45 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:45 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:45 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:47 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:47 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:47 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:47 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:47 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:47 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:47 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:49 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:08:49 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:09:19.192983200(LocalDateTime), 1(Long)
2025-11-19 11:08:49 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:08:49 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:49 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:49 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:49 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:49 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:49 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:49 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:51 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:51 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:51 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:51 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:51 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:51 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:51 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:53 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:53 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:53 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:53 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:53 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:53 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:53 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:55 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:55 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:55 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:55 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:55 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:55 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:55 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:57 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:57 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:57 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:57 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:57 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:57 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:57 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:08:59 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:08:59 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:09:29.229418900(LocalDateTime), 1(Long)
2025-11-19 11:08:59 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:08:59 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:59 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:59 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:59 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:08:59 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:08:59 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:08:59 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:01 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:01 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:01 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:01 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:01 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:01 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:01 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:03 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:03 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:03 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:03 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:03 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:03 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:03 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:05 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:05 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:05 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:05 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:05 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:05 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:05 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:06 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==>  Preparing: SELECT * FROM sched_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 11:09:06 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==> Parameters: 2025-11-19T11:09:06.096487400(LocalDateTime), 100(Integer)
2025-11-19 11:09:06 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - <==      Total: 0
2025-11-19 11:09:06 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:06 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:06 [scheduling-1] ERROR com.jiaoyi.service.OutboxService - 打印节点状态失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.printNodeStatus(OutboxService.java:582)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713)
	at com.jiaoyi.service.OutboxService$$SpringCGLIB$$0.printNodeStatus(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 26 common frames omitted
2025-11-19 11:09:07 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:07 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:07 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:07 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:07 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:07 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:07 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:09 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:09:09 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:09:39.270166400(LocalDateTime), 1(Long)
2025-11-19 11:09:09 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:09:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:09 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:09 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:09 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:11 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:11 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:11 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:11 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:11 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:11 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:11 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:13 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:13 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:13 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 更新节点索引失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.updateAndGetNodeIndex(OutboxService.java:371)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:265)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:13 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:13 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:13 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:403)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(OutboxService.java:266)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:13 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:15 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:15 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:15 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:15 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:15 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:15 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:15 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:17 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:17 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:17 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:17 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:17 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:17 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:17 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:09:49.369533200(LocalDateTime), 1(Long)
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:19 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:19 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:19 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:21 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:21 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:21 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:21 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:21 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:21 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:21 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:23 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:23 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:23 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:23 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:23 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:23 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:23 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:25 [outbox-node] INFO  com.jiaoyi.service.ClusterInfo - 分片分配完成 - 分片数: 10, 节点数: 1, 分配结果: {0=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:09:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:09:27 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:27 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:27 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:27 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:27 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:27 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:27 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:09:59.702935(LocalDateTime), 1(Long)
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:29 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:29 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:29 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:31 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:31 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:31 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:33 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:33 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:33 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:35 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:35 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:35 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:36 [scheduling-1] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper, com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 11:09:36 [scheduling-1] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 11:09:36 [scheduling-1] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 11:09:36 [scheduling-1] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-11-19 11:09:36 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 11:09:36 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 11:09:36 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - ==>  Preparing: SELECT * FROM sched_node WHERE node_id = ?
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - <==      Total: 1
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - ==>  Preparing: UPDATE sched_node SET ip = ?, port = ?, expired_time = ?, updated_at = NOW() WHERE node_id = ?
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - ==> Parameters: 192.168.0.120(String), 8080(Integer), 2025-11-19T11:10:06.470023(LocalDateTime), 192.168.0.120:8080(String)
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - <==    Updates: 1
2025-11-19 11:09:36 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 节点已存在，更新心跳，节点ID: 192.168.0.120:8080，数据库ID: 1
2025-11-19 11:09:36 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:36 [scheduling-1] ERROR com.jiaoyi.service.OutboxService - 打印节点状态失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.printNodeStatus(OutboxService.java:584)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713)
	at com.jiaoyi.service.OutboxService$$SpringCGLIB$$0.printNodeStatus(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 26 common frames omitted
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==>  Preparing: SELECT * FROM sched_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==> Parameters: 2025-11-19T11:09:36.543778(LocalDateTime), 100(Integer)
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - <==      Total: 0
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:36 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:36 [scheduling-1] ERROR com.jiaoyi.service.OutboxService - 打印节点状态失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.printNodeStatus(OutboxService.java:584)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713)
	at com.jiaoyi.service.OutboxService$$SpringCGLIB$$0.printNodeStatus(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 26 common frames omitted
2025-11-19 11:09:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:37 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:37 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:37 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:10:09.790389800(LocalDateTime), 1(Long)
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:39 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: -999999999-01-01T00:00(LocalDateTime)
2025-11-19 11:09:39 [outbox-node] ERROR com.jiaoyi.service.OutboxService - 获取总节点数失败
org.springframework.jdbc.UncategorizedSQLException: 
### Error querying database.  Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
### The error may exist in file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sched_node         WHERE enabled = 1           AND expired_time > ?         ORDER BY id DESC
### Cause: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
; uncategorized SQLException; SQL state [HY000]; error code [1525]; Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:93)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy132.selectAvailableNodes(Unknown Source)
	at com.jiaoyi.service.OutboxService.getTotalNodes(OutboxService.java:405)
	at com.jiaoyi.service.OutboxService.runNodeProcessor(Unknown Source)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Incorrect DATETIME value: '+1000000000-01-01 00:00:00'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2025-11-19 11:09:39 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:09:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:09:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:09:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:00 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 27160 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 11:10:00 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 11:10:00 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 11:10:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 11:10:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 11:10:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'schedNodeMapper' and 'com.jiaoyi.mapper.SchedNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'schedNodeMapper' and 'com.jiaoyi.mapper.SchedNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:10:02 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 11:10:03 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:10:03 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:10:04 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:10:04 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:10:04 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:10:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 11:10:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 11:10:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 11:10:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 11:10:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3988 ms
2025-11-19 11:10:04 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 11:10:05 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 11:10:05 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 11:10:05 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 11:10:05 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:10:05 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 11:10:05 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:10:05 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - sched_node表已存在，跳过创建
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 11:10:06 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 11:10:08 [main] INFO  o.a.r.s.a.RocketMQAutoConfiguration - a producer (order-timeout-producer-group) init on namesrv localhost:9876
2025-11-19 11:10:09 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:10:09 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-19 11:10:09 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox节点线程池初始化完成 - 线程数: 1（一个应用一个节点）
2025-11-19 11:10:09 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 11:10:09 [main] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 11:10:09 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 11:10:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-19 11:10:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29288ee0
2025-11-19 11:10:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-19 11:10:09 [main] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - ==>  Preparing: SELECT * FROM sched_node WHERE node_id = ?
2025-11-19 11:10:09 [main] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 11:10:09 [main] DEBUG c.j.m.SchedNodeMapper.selectByNodeId - <==      Total: 1
2025-11-19 11:10:09 [main] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - ==>  Preparing: UPDATE sched_node SET ip = ?, port = ?, expired_time = ?, updated_at = NOW() WHERE node_id = ?
2025-11-19 11:10:09 [main] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - ==> Parameters: 192.168.0.120(String), 8080(Integer), 2025-11-19T11:10:39.361439200(LocalDateTime), 192.168.0.120:8080(String)
2025-11-19 11:10:09 [main] DEBUG c.j.m.SchedNodeMapper.updateByNodeId - <==    Updates: 1
2025-11-19 11:10:09 [main] INFO  com.jiaoyi.service.OutboxService - 节点已存在，更新心跳，节点ID: 192.168.0.120:8080，数据库ID: 1
2025-11-19 11:10:09 [main] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 11:10:09 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程启动，节点ID: 192.168.0.120:8080，数据库ID: 1
2025-11-19 11:10:09 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:10:09 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:10:39.880401300(LocalDateTime), 1(Long)
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:09 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:09 [outbox-node] INFO  com.jiaoyi.service.ClusterInfo - 分片分配完成 - 分片数: 10, 节点数: 1, 分配结果: {0=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
2025-11-19 11:10:09 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:10:09 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-19 11:10:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@ea7352b
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5db34eb5
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3521d1d5
2025-11-19 11:10:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:17 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox线程池初始化完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100, 保活时间: 60秒
2025-11-19 11:10:17 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-11-19 11:10:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-11-19 11:10:17 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-19 11:10:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-19 11:10:17 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:18 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-19 11:10:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-19 11:10:19 [main] INFO  com.jiaoyi.JiaoyiApplication - Started JiaoyiApplication in 19.634 seconds (process running for 21.257)
2025-11-19 11:10:19 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T10:30:19.062430500(LocalDateTime)
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:19 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 11:10:19 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 11:10:19 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 0秒前) [当前节点]
2025-11-19 11:10:19 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==>  Preparing: SELECT * FROM sched_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - ==> Parameters: 2025-11-19T11:10:19.071401600(LocalDateTime), 100(Integer)
2025-11-19 11:10:19 [scheduling-1] DEBUG c.j.m.S.selectExpiredNodes - <==      Total: 0
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:10:50.125730700(LocalDateTime), 1(Long)
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:23 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19 11:10:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@54d40219
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@62a15ff7
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-19 11:10:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/test-payment", parameters={}
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.TestController#testPayment()
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.view.InternalResourceView - View name 'forward:', model {}
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.view.InternalResourceView - Forwarding to [/test-payment.html]
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "FORWARD" dispatch for GET "/test-payment.html", parameters={}
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 11:10:23 [http-nio-8080-exec-1] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource test-payment.html.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:408)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json]
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource test-payment.html.]
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "FORWARD" dispatch, status 500
2025-11-19 11:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 11:10:23 [http-nio-8080-exec-2] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 11:10:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==>  Preparing: UPDATE sched_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - ==> Parameters: 2025-11-19T11:11:00.184006800(LocalDateTime), 1(Long)
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.updateExpiredTime - <==    Updates: 1
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==>  Preparing: SELECT * FROM sched_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.S.selectAvailableNodes - <==      Total: 1
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 11:10:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 11:10:49 [scheduling-1] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 11:10:49 [scheduling-1] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 0 Redis repository interfaces.
2025-11-19 11:10:49 [scheduling-1] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 11:10:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:11:19 [scheduling-1] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 11:11:19 [scheduling-1] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-11-19 11:11:19 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:11:20 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:11:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:12:19 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:12:20 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:12:50 [scheduling-1] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:12:50 [scheduling-1] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
2025-11-19 11:12:50 [scheduling-1] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:12:50 [scheduling-1] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_5
2025-11-19 11:12:50 [scheduling-1] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 11:12:50 [scheduling-1] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_6
2025-11-19 11:12:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:12:50 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 11:12:50 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 11:12:50 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T10:32:50.863762300(LocalDateTime)
2025-11-19 11:12:50 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 11:12:50 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 11:13:19 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:13:20 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:13:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:14:19 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:14:20 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:14:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:15:19 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:15:20 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:15:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:16:19 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:16:20 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:16:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:17:19 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:17:20 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:17:50 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 11:17:50 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 11:17:50 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T10:37:50.883965600(LocalDateTime)
2025-11-19 11:17:50 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 11:17:50 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 11:17:50 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.NoClassDefFoundError: SchedNode
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:18)
	at com.zeroturnaround.javarebel.acl.a(SourceFile:90)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMethod(SourceFile:142)
	at java.base/com.zeroturnaround.jrebelbase.facade.av.getCurrentMember(SourceFile:95)
	at java.base/java.lang.reflect.AccessibleObject._jr$curMem(AccessibleObject.java)
	at java.base/java.lang.reflect.Method.getModifiers(Method.java)
	at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:564)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:129)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.ClassNotFoundException: SchedNode
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 21 common frames omitted
2025-11-19 11:29:50 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 17928 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 11:29:50 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 11:29:50 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 11:29:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 11:29:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 11:29:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 11:29:50 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 11:29:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:29:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:29:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:29:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:29:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 11:29:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 11:29:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 11:29:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 11:29:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 11:29:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1554 ms
2025-11-19 11:29:51 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 11:29:51 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 11:29:52 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 11:29:52 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ outbox_node表创建成功！
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 11:29:52 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 11:29:52 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'couponController' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\controller\CouponController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'couponService' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\service\CouponService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'couponMapper' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\mapper\CouponMapper.class]: Cannot resolve reference to bean 'primarySqlSessionFactory' while setting bean property 'sqlSessionFactory'
2025-11-19 11:29:52 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-19 11:29:52 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-19 11:29:52 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'couponController' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\controller\CouponController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'couponService' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\service\CouponService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'couponMapper' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\mapper\CouponMapper.class]: Cannot resolve reference to bean 'primarySqlSessionFactory' while setting bean property 'sqlSessionFactory'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.jiaoyi.JiaoyiApplication.main(JiaoyiApplication.java:16)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'couponService' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\service\CouponService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'couponMapper' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\mapper\CouponMapper.class]: Cannot resolve reference to bean 'primarySqlSessionFactory' while setting bean property 'sqlSessionFactory'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'couponMapper' defined in file [D:\软件\ideaproject\jiaoyi\target\classes\com\jiaoyi\mapper\CouponMapper.class]: Cannot resolve reference to bean 'primarySqlSessionFactory' while setting bean property 'sqlSessionFactory'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1686)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1435)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'primarySqlSessionFactory' defined in class path resource [com/jiaoyi/config/DataSourceConfig.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'primarySqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 47 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'primarySqlSessionFactory' threw exception with message: Failed to parse mapping resource: 'file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)
	... 57 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]'
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:700)
	at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:577)
	at org.mybatis.spring.SqlSessionFactoryBean.getObject(SqlSessionFactoryBean.java:720)
	at com.jiaoyi.config.DataSourceConfig.primarySqlSessionFactory(DataSourceConfig.java:69)
	at com.jiaoyi.config.DataSourceConfig$$SpringCGLIB$$0.CGLIB$primarySqlSessionFactory$2(<generated>)
	at com.jiaoyi.config.DataSourceConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.jiaoyi.config.DataSourceConfig$$SpringCGLIB$$0.primarySqlSessionFactory(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	... 58 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [D:\软件\ideaproject\jiaoyi\target\classes\mapper\SchedNodeMapper.xml]'. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains key com.jiaoyi.mapper.OutboxNodeMapper.OutboxNodeResultMap
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:127)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:100)
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:698)
	... 69 common frames omitted
Caused by: java.lang.IllegalArgumentException: Result Maps collection already contains key com.jiaoyi.mapper.OutboxNodeMapper.OutboxNodeResultMap
	at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:1071)
	at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:1024)
	at org.apache.ibatis.session.Configuration.addResultMap(Configuration.java:780)
	at org.apache.ibatis.builder.MapperBuilderAssistant.addResultMap(MapperBuilderAssistant.java:181)
	at org.apache.ibatis.builder.ResultMapResolver.resolve(ResultMapResolver.java:48)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:295)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:261)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:253)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:123)
	... 71 common frames omitted
2025-11-19 13:04:45 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 47960 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 13:04:45 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 13:04:45 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 13:04:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 13:04:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 13:04:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:04:46 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 13:04:47 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:04:47 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:04:47 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:04:47 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:04:47 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:04:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 13:04:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 13:04:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 13:04:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 13:04:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1955 ms
2025-11-19 13:04:47 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 13:04:47 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 13:04:48 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:04:48 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox_node表已存在，跳过创建
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 13:04:48 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 13:04:49 [main] INFO  o.a.r.s.a.RocketMQAutoConfiguration - a producer (order-timeout-producer-group) init on namesrv localhost:9876
2025-11-19 13:04:49 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:04:49 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-19 13:04:49 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox节点线程池初始化完成 - 线程数: 1（一个应用一个节点）
2025-11-19 13:04:49 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 13:04:49 [main] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 13:04:49 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6203f10f
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-19 13:04:49 [main] DEBUG c.j.m.O.selectByNodeId - ==>  Preparing: SELECT * FROM outbox_node WHERE node_id = ?
2025-11-19 13:04:49 [main] DEBUG c.j.m.O.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 13:04:49 [main] DEBUG c.j.m.O.selectByNodeId - <==      Total: 0
2025-11-19 13:04:49 [main] DEBUG c.j.mapper.OutboxNodeMapper.insert - ==>  Preparing: INSERT INTO outbox_node ( ip, port, node_id, enabled, expired_time, created_at, updated_at ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-11-19 13:04:49 [main] DEBUG c.j.mapper.OutboxNodeMapper.insert - ==> Parameters: 192.168.0.120(String), 8080(Integer), 192.168.0.120:8080(String), 1(Integer), 2025-11-19T13:05:19.333398800(LocalDateTime), 2025-11-19T13:04:49.405158500(LocalDateTime), 2025-11-19T13:04:49.405158500(LocalDateTime)
2025-11-19 13:04:49 [main] DEBUG c.j.mapper.OutboxNodeMapper.insert - <==    Updates: 1
2025-11-19 13:04:49 [main] INFO  com.jiaoyi.service.OutboxService - 节点注册成功，节点ID: 192.168.0.120:8080，数据库ID: 1
2025-11-19 13:04:49 [main] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 13:04:49 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程启动，节点ID: 192.168.0.120:8080，数据库ID: 1
2025-11-19 13:04:49 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:04:49 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:05:19.461446500(LocalDateTime), 1(Long)
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:49 [outbox-node] INFO  com.jiaoyi.service.ClusterInfo - 分片分配完成 - 分片数: 10, 节点数: 1, 分配结果: {0=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:04:49 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:04:49 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-19 13:04:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@228c854f
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@423325e0
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@63c31664
2025-11-19 13:04:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:04:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:04:52 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox线程池初始化完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100, 保活时间: 60秒
2025-11-19 13:04:52 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-11-19 13:04:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-11-19 13:04:52 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-19 13:04:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-19 13:04:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-19 13:04:53 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-19 13:04:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-19 13:04:53 [main] INFO  com.jiaoyi.JiaoyiApplication - Started JiaoyiApplication in 8.346 seconds (process running for 9.402)
2025-11-19 13:04:53 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:24:53.341058700(LocalDateTime)
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:04:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:04:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:04:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:04:53.348172900(LocalDateTime), 100(Integer)
2025-11-19 13:04:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:04:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@550f56d9
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7b8e5116
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-19 13:04:53 [RMI TCP Connection(3)-192.168.0.120] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:04:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:04:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:05:29.546722100(LocalDateTime), 1(Long)
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:04:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:05:39.605614300(LocalDateTime), 1(Long)
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:05:49.659921100(LocalDateTime), 1(Long)
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:05:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:05:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:05:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:05:59.698859300(LocalDateTime), 1(Long)
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/test-payment", parameters={}
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.TestController#testPayment()
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.view.InternalResourceView - View name 'forward:', model {}
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.view.InternalResourceView - Forwarding to [/test-payment.html]
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "FORWARD" dispatch for GET "/test-payment.html", parameters={}
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:05:39 [http-nio-8080-exec-1] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource test-payment.html.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:408)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json]
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource test-payment.html.]
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "FORWARD" dispatch, status 500
2025-11-19 13:05:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:05:39 [http-nio-8080-exec-2] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:05:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:06:09.740194900(LocalDateTime), 1(Long)
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/", parameters={}
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.view.InternalResourceView - View name 'forward:', model {}
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.view.InternalResourceView - Forwarding to [index.html]
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "FORWARD" dispatch for GET "/index.html", parameters={}
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "FORWARD" dispatch, status 200
2025-11-19 13:05:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:05:41 [http-nio-8080-exec-4] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:05:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/product-list.html", parameters={}
2025-11-19 13:05:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:05:43 [http-nio-8080-exec-7] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/products.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/products.]
2025-11-19 13:05:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory", parameters={}
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:05:43 [http-nio-8080-exec-6] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/inventory.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/inventory.]
2025-11-19 13:05:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:05:43 [http-nio-8080-exec-8] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:05:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:06:19.788098100(LocalDateTime), 1(Long)
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:05:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:05:53.352056600(LocalDateTime), 100(Integer)
2025-11-19 13:05:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:05:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:05:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:05:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:05:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:05:58 [http-nio-8080-exec-9] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-11-19 13:05:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:06:29.833288700(LocalDateTime), 1(Long)
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:05:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:00 [http-nio-8080-exec-10] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/products.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/products.]
2025-11-19 13:06:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/inventory", parameters={}
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:00 [http-nio-8080-exec-1] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/inventory.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/inventory.]
2025-11-19 13:06:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:00 [http-nio-8080-exec-2] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:06:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:00 [http-nio-8080-exec-3] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-11-19 13:06:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:06:39.876653500(LocalDateTime), 1(Long)
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:06:49.913132500(LocalDateTime), 1(Long)
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:06:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:06:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:06:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:06:59.947561200(LocalDateTime), 1(Long)
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:07:09.999052800(LocalDateTime), 1(Long)
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:44 [http-nio-8080-exec-4] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:06:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:44 [http-nio-8080-exec-5] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-11-19 13:06:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:44 [http-nio-8080-exec-7] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-11-19 13:06:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/product-admin.html", parameters={}
2025-11-19 13:06:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:06:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:06:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:48 [http-nio-8080-exec-9] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource .well-known/appspecific/com.chrome.devtools.json.]
2025-11-19 13:06:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:48 [http-nio-8080-exec-8] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:06:48 [http-nio-8080-exec-8] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:07:21.353715800(LocalDateTime), 1(Long)
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:51 [http-nio-8080-exec-10] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:06:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 关系缓存中没有商品ID，店铺ID: 1
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.jiaoyi.service.StoreProductService - 缓存未命中，从数据库查询店铺商品列表，店铺ID: 1
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.selectByStoreId - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND is_delete = 0 ORDER BY create_time DESC
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.selectByStoreId - ==> Parameters: 1(Long)
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.selectByStoreId - <==      Total: 21
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 更新店铺商品ID列表缓存成功（Lua脚本），店铺ID: 1, 商品数量: 21, 版本号: 1
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 初始化店铺商品ID关系缓存，店铺ID: 1, 商品数量: 21, 版本号: 1
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 62, 版本号: 1
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 61, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 60, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 59, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 58, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 57, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 56, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 55, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 54, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 53, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 52, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 51, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 50, 版本号: 1
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 49, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 48, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 47, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 1, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 2, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 3, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 4, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 5, 版本号: 0
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG c.jiaoyi.service.StoreProductService - 初始化店铺商品缓存完成，店铺ID: 1, 商品数量: 21
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=62, storeId=1, productName=大2222, descript (truncated)...]
2025-11-19 13:06:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:06:51 [http-nio-8080-exec-1] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:06:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:06:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:06:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:06:53.356482700(LocalDateTime), 100(Integer)
2025-11-19 13:06:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:06:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:06:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:06:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:06:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:07:31.393965(LocalDateTime), 1(Long)
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:07:41.434973400(LocalDateTime), 1(Long)
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:07:51.470367900(LocalDateTime), 1(Long)
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:07:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:07:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:07:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:08:01.512426400(LocalDateTime), 1(Long)
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:08:11.546109400(LocalDateTime), 1(Long)
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:08:21.587105300(LocalDateTime), 1(Long)
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:07:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:07:53.366977800(LocalDateTime), 100(Integer)
2025-11-19 13:07:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:07:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:07:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:07:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:07:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:07:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:08:31.623886100(LocalDateTime), 1(Long)
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:08:41.655059700(LocalDateTime), 1(Long)
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:08:51.697868600(LocalDateTime), 1(Long)
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:08:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:08:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:08:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:09:01.733413500(LocalDateTime), 1(Long)
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:09:11.778435500(LocalDateTime), 1(Long)
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:09:21.814401500(LocalDateTime), 1(Long)
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:08:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:08:53.369940700(LocalDateTime), 100(Integer)
2025-11-19 13:08:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:08:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:08:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:08:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:08:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:08:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:09:31.848126800(LocalDateTime), 1(Long)
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/62", parameters={}
2025-11-19 13:09:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductById(Long)
2025-11-19 13:09:04 [http-nio-8080-exec-2] INFO  c.j.c.StoreProductController - 获取店铺商品详情，ID: 62
2025-11-19 13:09:04 [http-nio-8080-exec-2] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，商品ID: 62
2025-11-19 13:09:04 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 62
2025-11-19 13:09:04 [http-nio-8080-exec-2] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品，商品ID: 62
2025-11-19 13:09:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:09:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=StoreProduct(id=62, storeId=1, productName=大2222, descripti (truncated)...]
2025-11-19 13:09:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/store-products/62", parameters={}
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#updateStoreProduct(Long, StoreProduct)
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=大2222-1, description=, unitPrice=22, productImage=nu (truncated)...]
2025-11-19 13:09:07 [http-nio-8080-exec-3] INFO  c.j.c.StoreProductController - 更新店铺商品（Outbox模式），商品ID: 62
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.StoreProductMapper.selectById - ==>  Preparing: SELECT * FROM store_products WHERE id = ? AND is_delete = 0
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.StoreProductMapper.selectById - ==> Parameters: 62(Long)
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.StoreProductMapper.selectById - <==      Total: 1
2025-11-19 13:09:07 [http-nio-8080-exec-3] INFO  c.jiaoyi.service.StoreProductService - 执行数据库UPDATE操作，店铺商品ID: 62
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 大2222-1(String)
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.mapper.StoreProductMapper.update - ==>  Preparing: UPDATE store_products SET product_name = ?, description = ?, unit_price = ?, product_image = ?, category = ?, status = ?, version = version + 1 WHERE id = ? AND version = ?
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.mapper.StoreProductMapper.update - ==> Parameters: 大2222-1(String), (String), 22(BigDecimal), null, 22(String), ACTIVE(String), 62(Long), 1(Long)
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.mapper.StoreProductMapper.update - <==    Updates: 1
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.S.update!selectKey - ==>  Preparing: SELECT version FROM store_products WHERE id = ?
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.S.update!selectKey - ==> Parameters: 62(Long)
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.S.update!selectKey - <==      Total: 1
2025-11-19 13:09:07 [http-nio-8080-exec-3] INFO  c.jiaoyi.service.StoreProductService - 数据库UPDATE成功（乐观锁），店铺商品ID: 62, 版本号: 2
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==>  Preparing: INSERT INTO outbox ( shard_id, topic, tag, message_key, message_body, status, retry_count, error_message, created_at, sent_at ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==> Parameters: 0(Integer), product-cache-update-topic(String), update(String), 62(String), {"productId":62,"storeId":1,"operationType":"UPDATE","timestamp":1763528947885,"enrichInventory":true,"version":2,"storeProduct":{"id":62,"storeId":1,"productName":"大2222-1","description":"","unitPrice":22,"productImage":null,"category":"22","status":"ACTIVE","isDelete":null,"version":2,"createTime":null,"updateTime":null}}(String), PENDING(String), 0(Integer), null, 2025-11-19T13:09:07.887717900(LocalDateTime), null
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - <==    Updates: 1
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.OutboxMapper.updateShardId - ==>  Preparing: UPDATE outbox SET shard_id = ? WHERE id = ?
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.OutboxMapper.updateShardId - ==> Parameters: 8(Integer), 18(Long)
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.m.OutboxMapper.updateShardId - <==    Updates: 1
2025-11-19 13:09:07 [http-nio-8080-exec-3] INFO  com.jiaoyi.service.OutboxService - 已写入outbox表，ID: 18, ShardId: 8, Topic: product-cache-update-topic, Tag: update
2025-11-19 13:09:07 [http-nio-8080-exec-3] INFO  c.jiaoyi.service.StoreProductService - 已写入outbox表（UPDATE），商品ID: 62，定时任务将异步发送消息
2025-11-19 13:09:07 [http-nio-8080-exec-3] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，商品ID: 62
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 62
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品，商品ID: 62
2025-11-19 13:09:07 [http-nio-8080-exec-3] INFO  c.j.c.StoreProductController - 店铺商品更新成功，商品ID: 62
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=更新成功, data=StoreProduct(id=62, storeId=1, productName=大2222, descripti (truncated)...]
2025-11-19 13:09:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:09:08 [http-nio-8080-exec-4] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:09:08 [http-nio-8080-exec-4] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 1
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 2
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 3
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 4
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 5
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 47
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 48
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 49
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 50
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 51
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 52
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 53
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 54
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 55
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 56
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 57
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 58
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 59
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 60
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 61
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 62
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=1, storeId=1, productName=iPhone 15 Pro, d (truncated)...]
2025-11-19 13:09:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 1
2025-11-19 13:09:09 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点0扫描到 1 条待发送的outbox消息，节点索引: 0, 负责分片: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2025-11-19 13:09:09 [outbox-node] DEBUG com.jiaoyi.service.OutboxService - 已发送消息到RocketMQ，Topic: product-cache-update-topic, Tag: update, MessageKey: 62
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==>  Preparing: UPDATE outbox SET status = 'SENT', sent_at = ? WHERE id = ?
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==> Parameters: 2025-11-19T13:09:09.996788400(LocalDateTime), 18(Long)
2025-11-19 13:09:09 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - <==    Updates: 1
2025-11-19 13:09:09 [outbox-node] INFO  com.jiaoyi.service.OutboxService - Outbox消息发送成功，ID: 18, Topic: product-cache-update-topic, Tag: update
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] INFO  c.j.s.StoreProductCacheUpdateMessageService - 接收到店铺商品缓存更新消息（Outbox模式），店铺ID: 1, 商品ID: 62, 操作类型: UPDATE
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 62, 版本号: 2
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] INFO  c.j.s.StoreProductCacheUpdateMessageService - 店铺商品缓存更新成功（UPDATE），店铺ID: 1, 商品ID: 62, 版本号: 2
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND is_delete = 0 ORDER BY create_time DESC
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - ==> Parameters: 1(Long)
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - <==      Total: 21
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.service.StoreProductCacheService - 店铺商品ID列表缓存版本号不够新，跳过更新，店铺ID: 1, 版本号: 1
2025-11-19 13:09:10 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.s.StoreProductCacheUpdateMessageService - 从数据库刷新店铺商品关系缓存，店铺ID: 1, 商品数量: 21, 版本号: 1
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:09:42.001332200(LocalDateTime), 1(Long)
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:09:52.032704700(LocalDateTime), 1(Long)
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:09:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:09:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:09:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:10:02.063123900(LocalDateTime), 1(Long)
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:10:12.094317300(LocalDateTime), 1(Long)
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:10:22.127229100(LocalDateTime), 1(Long)
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:53 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:29:53.346969900(LocalDateTime)
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:09:53.372923900(LocalDateTime), 100(Integer)
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:09:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:09:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:09:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/product-admin.html?storeId=1", parameters={masked}
2025-11-19 13:09:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:09:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:58 [http-nio-8080-exec-7] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:09:58 [http-nio-8080-exec-7] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 1
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:09:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 2
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 3
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 4
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 5
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 47
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 48
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 49
2025-11-19 13:09:58 [http-nio-8080-exec-6] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 50
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:09:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 51
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 52
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 53
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 54
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 55
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 56
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 57
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 58
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 59
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 60
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 61
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 62
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=1, storeId=1, productName=iPhone 15 Pro, d (truncated)...]
2025-11-19 13:09:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:10:32.166213200(LocalDateTime), 1(Long)
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/product-admin.html?storeId=1", parameters={masked}
2025-11-19 13:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:10:03 [http-nio-8080-exec-10] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:10:03 [http-nio-8080-exec-10] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 1
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 2
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 3
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 4
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 5
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 47
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 48
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 49
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 50
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 51
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 52
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 53
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 54
2025-11-19 13:10:03 [http-nio-8080-exec-8] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 55
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:10:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 56
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 57
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 58
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 59
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 60
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 61
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 62
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=1, storeId=1, productName=iPhone 15 Pro, d (truncated)...]
2025-11-19 13:10:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:10:42.187803600(LocalDateTime), 1(Long)
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=方式分公司, description=, unitPrice=2, productImage=null, (truncated)...]
2025-11-19 13:10:12 [http-nio-8080-exec-1] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:10:12 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 方式分公司(String)
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 方式分公司(String), (String), 2(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT version FROM store_products WHERE id = LAST_INSERT_ID()
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: 
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - <==      Total: 1
2025-11-19 13:10:12 [http-nio-8080-exec-1] ERROR c.jiaoyi.service.StoreProductService - 创建店铺商品失败，店铺ID: 1, 商品名称: 方式分公司
java.lang.RuntimeException: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:10:12 [http-nio-8080-exec-1] ERROR c.j.c.StoreProductController - 创建店铺商品失败
java.lang.RuntimeException: 创建店铺商品失败: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:72)
	... 66 common frames omitted
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=500, message=创建失败: 创建店铺商品失败: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败, data=null)]
2025-11-19 13:10:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:10:52.215358900(LocalDateTime), 1(Long)
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:23 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:10:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:10:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:10:23 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:11:02.244417100(LocalDateTime), 1(Long)
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:11:12.268179600(LocalDateTime), 1(Long)
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:11:22.300060700(LocalDateTime), 1(Long)
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:10:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:10:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:10:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:10:53.374081900(LocalDateTime), 100(Integer)
2025-11-19 13:10:53 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:10:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:10:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:10:53 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:10:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:10:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:10:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 1, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:10:53 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:10:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:10:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:10:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=方式分公司, description=, unitPrice=2, productImage=null, (truncated)...]
2025-11-19 13:10:53 [http-nio-8080-exec-2] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:10:53 [http-nio-8080-exec-2] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:10:53 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:10:53 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 方式分公司(String)
2025-11-19 13:10:53 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:11:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:11:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:11:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:11:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:11:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:11:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:11:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:11:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:11:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:11:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:11:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:11:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:11:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:11:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 0 (总启用节点数: 1)
2025-11-19 13:11:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:12:02.123730300(LocalDateTime), 1(Long)
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:11:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:11:32 [http-nio-8080-exec-2] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:11:32 [http-nio-8080-exec-2] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 方式分公司(String), (String), 2(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:11:32 [http-nio-8080-exec-2] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:11:32 [http-nio-8080-exec-2] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT version FROM store_products WHERE id = LAST_INSERT_ID()
2025-11-19 13:11:32 [http-nio-8080-exec-2] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: 
2025-11-19 13:11:32 [http-nio-8080-exec-2] DEBUG c.j.m.S.insert!selectKey - <==      Total: 1
2025-11-19 13:12:18 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:12:18 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:12:18.995508(LocalDateTime), 100(Integer)
2025-11-19 13:12:18 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 1
2025-11-19 13:12:18 [HikariPool-5 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Thread starvation or clock leap detected (housekeeper delta=46s881ms769µs700ns).
2025-11-19 13:12:18 [HikariPool-3 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=46s881ms937µs800ns).
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:12:19 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s881ms759µs100ns).
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:12:49.000491300(LocalDateTime), 1(Long)
2025-11-19 13:12:18 [HikariPool-4 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Thread starvation or clock leap detected (housekeeper delta=46s881ms848µs599ns).
2025-11-19 13:12:18 [HikariPool-2 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=46s881ms938µs600ns).
2025-11-19 13:12:19 [scheduling-1] DEBUG c.j.m.OutboxNodeMapper.deleteByIds - ==>  Preparing: DELETE FROM outbox_node WHERE id IN ( ? )
2025-11-19 13:12:19 [scheduling-1] DEBUG c.j.m.OutboxNodeMapper.deleteByIds - ==> Parameters: 1(Long)
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:12:19 [scheduling-1] DEBUG c.j.m.OutboxNodeMapper.deleteByIds - <==    Updates: 1
2025-11-19 13:12:19 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 清理过期节点: 1 个
2025-11-19 13:12:31 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:31 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:12:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:12:31 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:31 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:12:31 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 0 (总启用节点数: 0)
2025-11-19 13:12:31 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:12:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:12:31 [http-nio-8080-exec-2] ERROR c.jiaoyi.service.StoreProductService - 创建店铺商品失败，店铺ID: 1, 商品名称: 方式分公司
java.lang.RuntimeException: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:12:31 [http-nio-8080-exec-2] ERROR c.j.c.StoreProductController - 创建店铺商品失败
java.lang.RuntimeException: 创建店铺商品失败: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:72)
	... 66 common frames omitted
2025-11-19 13:12:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:12:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=500, message=创建失败: 创建店铺商品失败: 店铺商品创建失败：未获取到productId，可能数据库INSERT失败, data=null)]
2025-11-19 13:12:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:13:03.973990500(LocalDateTime), 1(Long)
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:33 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:35 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:37 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:39 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:41 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:13:13.996681200(LocalDateTime), 1(Long)
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:44 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:46 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:48 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:50 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:52 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:13:24.022528(LocalDateTime), 1(Long)
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:54 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:56 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:12:58 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:00 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:01 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:01 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:01 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:01 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:13:01 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 0 (总启用节点数: 0)
2025-11-19 13:13:01 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:02 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:13:34.044603600(LocalDateTime), 1(Long)
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:04 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:06 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:08 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:10 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:12 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:13:44.058782700(LocalDateTime), 1(Long)
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:14 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:16 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:18 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:20 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:22 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:13:54.079549800(LocalDateTime), 1(Long)
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:24 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:26 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:28 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:30 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:31 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:13:31 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:13:31.970575600(LocalDateTime), 100(Integer)
2025-11-19 13:13:31 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:13:31 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:31 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:31 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:31 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:13:31 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 0 (总启用节点数: 0)
2025-11-19 13:13:31 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:32 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:14:04.098546100(LocalDateTime), 1(Long)
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:34 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:36 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:38 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:40 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:42 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:14:14.114815(LocalDateTime), 1(Long)
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 0
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 0
2025-11-19 13:13:44 [outbox-node] WARN  com.jiaoyi.service.OutboxService - 节点信息未初始化，跳过本次处理
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - ========== 停止节点 ==========
2025-11-19 13:13:45 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程已停止
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 已清理Redis心跳
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 节点已停止（数据库记录保留，通过expired_time判断存活）
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-19 13:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-19 13:18:20 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 5776 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 13:18:20 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 13:18:20 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 13:18:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 13:18:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 13:18:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:18:22 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 13:18:23 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:18:23 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:18:24 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:18:24 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:18:24 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:18:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 13:18:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 13:18:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 13:18:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 13:18:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4174 ms
2025-11-19 13:18:25 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 13:18:25 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 13:18:25 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:18:25 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox_node表已存在，跳过创建
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 13:18:26 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 13:18:27 [main] INFO  o.a.r.s.a.RocketMQAutoConfiguration - a producer (order-timeout-producer-group) init on namesrv localhost:9876
2025-11-19 13:18:27 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:18:27 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-19 13:18:28 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox节点线程池初始化完成 - 线程数: 1（一个应用一个节点）
2025-11-19 13:18:28 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 13:18:28 [main] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 13:18:28 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 13:18:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-19 13:18:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@64c44c4
2025-11-19 13:18:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-19 13:18:28 [main] DEBUG c.j.m.O.selectByNodeId - ==>  Preparing: SELECT * FROM outbox_node WHERE node_id = ?
2025-11-19 13:18:28 [main] DEBUG c.j.m.O.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 13:18:28 [main] DEBUG c.j.m.O.selectByNodeId - <==      Total: 0
2025-11-19 13:18:28 [main] DEBUG c.j.mapper.OutboxNodeMapper.insert - ==>  Preparing: INSERT INTO outbox_node ( ip, port, node_id, enabled, expired_time, created_at, updated_at ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-11-19 13:18:28 [main] DEBUG c.j.mapper.OutboxNodeMapper.insert - ==> Parameters: 192.168.0.120(String), 8080(Integer), 192.168.0.120:8080(String), 1(Integer), 2025-11-19T13:18:58.033616200(LocalDateTime), 2025-11-19T13:18:28.128464200(LocalDateTime), 2025-11-19T13:18:28.128464200(LocalDateTime)
2025-11-19 13:18:28 [main] DEBUG c.j.mapper.OutboxNodeMapper.insert - <==    Updates: 1
2025-11-19 13:18:28 [main] INFO  com.jiaoyi.service.OutboxService - 节点注册成功，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 13:18:28 [main] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 13:18:28 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程启动，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 13:18:28 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:18:28 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:18:28 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:18:28 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:18:58.312943200(LocalDateTime), 2(Long)
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:28 [outbox-node] INFO  com.jiaoyi.service.ClusterInfo - 分片分配完成 - 分片数: 10, 节点数: 1, 分配结果: {0=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a5d5b9d
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28f9a5a9
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40c1baa1
2025-11-19 13:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:33 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox线程池初始化完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100, 保活时间: 60秒
2025-11-19 13:18:33 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-11-19 13:18:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-11-19 13:18:33 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-19 13:18:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-19 13:18:33 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:34 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-19 13:18:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-19 13:18:34 [main] INFO  com.jiaoyi.JiaoyiApplication - Started JiaoyiApplication in 15.469 seconds (process running for 17.338)
2025-11-19 13:18:34 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:38:34.857228(LocalDateTime)
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:34 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:18:34 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:18:34 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:18:34 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:18:34.864201400(LocalDateTime), 100(Integer)
2025-11-19 13:18:34 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:19:08.567495900(LocalDateTime), 2(Long)
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:19:18.629307500(LocalDateTime), 2(Long)
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:19:28.672249400(LocalDateTime), 2(Long)
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:18:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:04 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:04 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:04 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:04 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:19:04 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:19:04 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:19:04 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:19:38.719485400(LocalDateTime), 2(Long)
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:19:48.768139800(LocalDateTime), 2(Long)
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:22 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19 13:19:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3f79af5f
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@72826a6
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-19 13:19:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=方式分公司, description=, unitPrice=2, productImage=null, (truncated)...]
2025-11-19 13:19:22 [http-nio-8080-exec-1] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:19:22 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 方式分公司(String)
2025-11-19 13:19:22 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:27 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( id, store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:19:27 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: null, 1(Long), 方式分公司(String), (String), 2(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:19:27 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:19:27 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT version FROM store_products WHERE id = ?
2025-11-19 13:19:27 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: null
2025-11-19 13:19:27 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - <==      Total: 0
2025-11-19 13:19:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:19:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:19:35.108394500(LocalDateTime), 100(Integer)
2025-11-19 13:19:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:19:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:20:05.115185200(LocalDateTime), 2(Long)
2025-11-19 13:19:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:19:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:19:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:19:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:35 [http-nio-8080-exec-1] ERROR c.jiaoyi.service.StoreProductService - 创建店铺商品失败，店铺ID: 1, 商品名称: 方式分公司
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy129.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 74 common frames omitted
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:44 [http-nio-8080-exec-1] ERROR c.j.c.StoreProductController - 创建店铺商品失败
java.lang.RuntimeException: 创建店铺商品失败: null
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy129.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	... 67 common frames omitted
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 74 common frames omitted
2025-11-19 13:19:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:19:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=500, message=创建失败: 创建店铺商品失败: null, data=null)]
2025-11-19 13:19:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:20:16.460308600(LocalDateTime), 2(Long)
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:20:26.503978700(LocalDateTime), 2(Long)
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:19:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:20:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:20:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:20:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:20:36.652150400(LocalDateTime), 2(Long)
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:20:46.696952500(LocalDateTime), 2(Long)
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:20:56.735491900(LocalDateTime), 2(Long)
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:20:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:20:35.114404400(LocalDateTime), 100(Integer)
2025-11-19 13:20:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:20:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:20:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:20:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:20:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:21:06.780379200(LocalDateTime), 2(Long)
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:21:16.821347200(LocalDateTime), 2(Long)
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:21:26.868607400(LocalDateTime), 2(Long)
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:20:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:21:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:21:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:21:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:21:36.918088(LocalDateTime), 2(Long)
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:21:46.964184900(LocalDateTime), 2(Long)
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:21:57.011078400(LocalDateTime), 2(Long)
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:21:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:21:35.118534800(LocalDateTime), 100(Integer)
2025-11-19 13:21:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:21:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:21:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:21:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:22:07.133428700(LocalDateTime), 2(Long)
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:22:17.294547200(LocalDateTime), 2(Long)
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:22:27.383573300(LocalDateTime), 2(Long)
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:21:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:22:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:22:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:22:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:22:37.472493700(LocalDateTime), 2(Long)
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:22:47.505088800(LocalDateTime), 2(Long)
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:22:57.542703200(LocalDateTime), 2(Long)
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:22:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:22:35.122224400(LocalDateTime), 100(Integer)
2025-11-19 13:22:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:22:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:22:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:22:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:22:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:23:07.573997600(LocalDateTime), 2(Long)
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:23:17.608912600(LocalDateTime), 2(Long)
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:23:27.644662800(LocalDateTime), 2(Long)
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:22:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:23:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:23:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:23:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:23:37.673484800(LocalDateTime), 2(Long)
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:23:47.703331100(LocalDateTime), 2(Long)
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:23:57.738296600(LocalDateTime), 2(Long)
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:34 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:23:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:23:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:43:34.862059400(LocalDateTime)
2025-11-19 13:23:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:23:34 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:23:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:23:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:23:35.124660(LocalDateTime), 100(Integer)
2025-11-19 13:23:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:23:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:23:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:23:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:23:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:24:07.769355300(LocalDateTime), 2(Long)
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:24:17.802441300(LocalDateTime), 2(Long)
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:24:27.835569800(LocalDateTime), 2(Long)
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:23:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:24:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:24:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:24:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:24:37.868484700(LocalDateTime), 2(Long)
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:24:47.901425700(LocalDateTime), 2(Long)
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:24:57.940450300(LocalDateTime), 2(Long)
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:24:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:24:35.127411300(LocalDateTime), 100(Integer)
2025-11-19 13:24:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:24:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:24:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:24:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:24:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:25:07.973849200(LocalDateTime), 2(Long)
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:25:18.004587200(LocalDateTime), 2(Long)
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:25:28.036941900(LocalDateTime), 2(Long)
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:24:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:25:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:25:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:25:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:25:38.069404500(LocalDateTime), 2(Long)
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:25:48.109166900(LocalDateTime), 2(Long)
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:25:58.140612300(LocalDateTime), 2(Long)
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:25:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:25:35.132399600(LocalDateTime), 100(Integer)
2025-11-19 13:25:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:25:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:25:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:25:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:25:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:26:08.173942700(LocalDateTime), 2(Long)
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:26:18.622345200(LocalDateTime), 2(Long)
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:26:28.652073400(LocalDateTime), 2(Long)
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:25:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:26:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:26:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:26:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:26:38.680732100(LocalDateTime), 2(Long)
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:26:48.706956600(LocalDateTime), 2(Long)
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:26:58.738134100(LocalDateTime), 2(Long)
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:26:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:26:35.136230700(LocalDateTime), 100(Integer)
2025-11-19 13:26:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:26:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:26:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:26:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:26:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:27:08.771761900(LocalDateTime), 2(Long)
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:27:18.800738200(LocalDateTime), 2(Long)
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:27:28.830573600(LocalDateTime), 2(Long)
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:26:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:27:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:27:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:27:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:27:38.859575700(LocalDateTime), 2(Long)
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:27:48.890070600(LocalDateTime), 2(Long)
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:27:58.926985700(LocalDateTime), 2(Long)
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:27:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:27:35.139522200(LocalDateTime), 100(Integer)
2025-11-19 13:27:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:27:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:27:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:27:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:27:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:28:08.956521800(LocalDateTime), 2(Long)
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:27:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:28:18.995394100(LocalDateTime), 2(Long)
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:28:29.028741(LocalDateTime), 2(Long)
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:27:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:28:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:28:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:28:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:28:39.060173100(LocalDateTime), 2(Long)
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:28:49.090376900(LocalDateTime), 2(Long)
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:28:59.117708200(LocalDateTime), 2(Long)
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:34 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:28:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:28:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:48:34.867387600(LocalDateTime)
2025-11-19 13:28:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:28:34 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:28:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:28:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:28:35.144465600(LocalDateTime), 100(Integer)
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:28:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:28:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:28:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:29:09.152031(LocalDateTime), 2(Long)
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:29:19.181990700(LocalDateTime), 2(Long)
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:29:29.213982900(LocalDateTime), 2(Long)
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:28:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:29:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:29:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:29:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:29:39.242333200(LocalDateTime), 2(Long)
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:29:49.287986(LocalDateTime), 2(Long)
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:29:59.320266600(LocalDateTime), 2(Long)
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:29:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:29:35.148176100(LocalDateTime), 100(Integer)
2025-11-19 13:29:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:29:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:29:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:29:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:29:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:30:09.348085800(LocalDateTime), 2(Long)
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:30:19.380324100(LocalDateTime), 2(Long)
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:30:29.417675800(LocalDateTime), 2(Long)
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:29:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:30:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:30:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:30:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:30:39.453789800(LocalDateTime), 2(Long)
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:30:49.488204300(LocalDateTime), 2(Long)
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:30:59.522469700(LocalDateTime), 2(Long)
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:30:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:30:35.151291900(LocalDateTime), 100(Integer)
2025-11-19 13:30:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:30:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:30:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:30:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:30:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:31:09.550639300(LocalDateTime), 2(Long)
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:31:19.585347200(LocalDateTime), 2(Long)
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:31:29.620777900(LocalDateTime), 2(Long)
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:30:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:31:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:31:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:31:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:31:39.646353600(LocalDateTime), 2(Long)
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:31:49.675058500(LocalDateTime), 2(Long)
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:31:59.701795600(LocalDateTime), 2(Long)
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:31:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:31:35.154792500(LocalDateTime), 100(Integer)
2025-11-19 13:31:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:31:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:31:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:31:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:31:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:32:09.800438400(LocalDateTime), 2(Long)
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:32:19.829456900(LocalDateTime), 2(Long)
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:32:29.862940(LocalDateTime), 2(Long)
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:31:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:32:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:32:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:32:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:32:39.890606300(LocalDateTime), 2(Long)
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:32:49.924059200(LocalDateTime), 2(Long)
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:32:59.952415400(LocalDateTime), 2(Long)
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:32:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:32:35.159613100(LocalDateTime), 100(Integer)
2025-11-19 13:32:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:32:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:32:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:32:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:32:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:33:09.980725700(LocalDateTime), 2(Long)
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:33:20.010598400(LocalDateTime), 2(Long)
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:32:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:33:30.043075900(LocalDateTime), 2(Long)
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:33:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:33:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:33:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:33:40.070112100(LocalDateTime), 2(Long)
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:33:50.101773400(LocalDateTime), 2(Long)
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:34:00.140075(LocalDateTime), 2(Long)
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:34 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:33:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:33:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:53:34.871279600(LocalDateTime)
2025-11-19 13:33:34 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:33:34 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:33:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:33:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:33:35.162388700(LocalDateTime), 100(Integer)
2025-11-19 13:33:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:33:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:33:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:33:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:33:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:34:10.168717400(LocalDateTime), 2(Long)
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:34:20.197679900(LocalDateTime), 2(Long)
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:33:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:34:30.226112300(LocalDateTime), 2(Long)
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:05 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:34:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:34:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:34:05 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:34:40.253007300(LocalDateTime), 2(Long)
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:34:50.282399600(LocalDateTime), 2(Long)
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:35:00.315932700(LocalDateTime), 2(Long)
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:34:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:34:35.165508400(LocalDateTime), 100(Integer)
2025-11-19 13:34:35 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:34:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:35 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:34:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:34:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:34:35 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:35:10.346337800(LocalDateTime), 2(Long)
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:35:20.375231800(LocalDateTime), 2(Long)
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:34:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:34:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=方式分公司, description=, unitPrice=2, productImage=null, (truncated)...]
2025-11-19 13:34:51 [http-nio-8080-exec-8] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:34:51 [http-nio-8080-exec-8] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:34:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:34:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 方式分公司(String)
2025-11-19 13:34:51 [http-nio-8080-exec-8] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:54 [http-nio-8080-exec-8] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:34:54 [http-nio-8080-exec-8] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 方式分公司(String), (String), 2(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:34:54 [http-nio-8080-exec-8] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:34:54 [http-nio-8080-exec-8] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT version FROM store_products WHERE id = ?
2025-11-19 13:34:54 [http-nio-8080-exec-8] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: null
2025-11-19 13:34:54 [http-nio-8080-exec-8] DEBUG c.j.m.S.insert!selectKey - <==      Total: 0
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:34:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:34:59 [http-nio-8080-exec-8] ERROR c.jiaoyi.service.StoreProductService - 创建店铺商品失败，店铺ID: 1, 商品名称: 方式分公司
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy129.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 74 common frames omitted
2025-11-19 13:34:59 [http-nio-8080-exec-8] ERROR c.j.c.StoreProductController - 创建店铺商品失败
java.lang.RuntimeException: 创建店铺商品失败: null
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:90)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy112.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy129.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	... 67 common frames omitted
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 74 common frames omitted
2025-11-19 13:34:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:34:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=500, message=创建失败: 创建店铺商品失败: null, data=null)]
2025-11-19 13:34:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:35:04 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 27912 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 13:35:04 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 13:35:04 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 13:35:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 13:35:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 13:35:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:35:05 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 13:35:06 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:35:06 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:35:06 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:35:06 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:35:06 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:35:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 13:35:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 13:35:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 13:35:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 13:35:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1678 ms
2025-11-19 13:35:06 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 13:35:06 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 13:35:07 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:35:07 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox_node表已存在，跳过创建
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 13:35:07 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 13:35:08 [main] INFO  o.a.r.s.a.RocketMQAutoConfiguration - a producer (order-timeout-producer-group) init on namesrv localhost:9876
2025-11-19 13:35:08 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:35:08 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-19 13:35:08 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox节点线程池初始化完成 - 线程数: 1（一个应用一个节点）
2025-11-19 13:35:08 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 13:35:08 [main] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 13:35:08 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20183e2d
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-19 13:35:08 [main] DEBUG c.j.m.O.selectByNodeId - ==>  Preparing: SELECT * FROM outbox_node WHERE node_id = ?
2025-11-19 13:35:08 [main] DEBUG c.j.m.O.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 13:35:08 [main] DEBUG c.j.m.O.selectByNodeId - <==      Total: 1
2025-11-19 13:35:08 [main] DEBUG c.j.m.O.updateByNodeId - ==>  Preparing: UPDATE outbox_node SET ip = ?, port = ?, expired_time = ?, updated_at = NOW() WHERE node_id = ?
2025-11-19 13:35:08 [main] DEBUG c.j.m.O.updateByNodeId - ==> Parameters: 192.168.0.120(String), 8080(Integer), 2025-11-19T13:35:38.442577900(LocalDateTime), 192.168.0.120:8080(String)
2025-11-19 13:35:08 [main] DEBUG c.j.m.O.updateByNodeId - <==    Updates: 1
2025-11-19 13:35:08 [main] INFO  com.jiaoyi.service.OutboxService - 节点已存在，更新心跳，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 13:35:08 [main] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 13:35:08 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程启动，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 13:35:08 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:35:08 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:35:38.543023700(LocalDateTime), 2(Long)
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:08 [outbox-node] INFO  com.jiaoyi.service.ClusterInfo - 分片分配完成 - 分片数: 10, 节点数: 1, 分配结果: {0=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:08 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:35:08 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53425450
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7bb2b910
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@785ba20d
2025-11-19 13:35:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:11 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox线程池初始化完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100, 保活时间: 60秒
2025-11-19 13:35:11 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-11-19 13:35:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-11-19 13:35:11 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-19 13:35:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-19 13:35:11 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-19 13:35:12 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-19 13:35:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-19 13:35:12 [main] INFO  com.jiaoyi.JiaoyiApplication - Started JiaoyiApplication in 7.797 seconds (process running for 8.41)
2025-11-19 13:35:12 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:55:12.291828700(LocalDateTime)
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:12 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:35:12 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:35:12 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:35:12 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:35:12.299305900(LocalDateTime), 100(Integer)
2025-11-19 13:35:12 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@134d1759
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7f53c29a
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-19 13:35:12 [RMI TCP Connection(4)-192.168.0.120] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:35:48.618542800(LocalDateTime), 2(Long)
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:35:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:35:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=方式分公司, description=, unitPrice=2, productImage=null, (truncated)...]
2025-11-19 13:35:28 [http-nio-8080-exec-1] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:35:28 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:35:28 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:35:28 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 方式分公司(String)
2025-11-19 13:35:28 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:36:01.013277700(LocalDateTime), 2(Long)
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 方式分公司(String), (String), 2(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT version FROM store_products WHERE id = ?
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: null
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - <==      Total: 0
2025-11-19 13:35:33 [http-nio-8080-exec-1] ERROR c.jiaoyi.service.StoreProductService - 创建店铺商品失败，店铺ID: 1, 商品名称: 方式分公司
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy104.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy122.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 73 common frames omitted
2025-11-19 13:35:33 [http-nio-8080-exec-1] ERROR c.j.c.StoreProductController - 创建店铺商品失败
java.lang.RuntimeException: 创建店铺商品失败: null
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy104.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy122.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	... 66 common frames omitted
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 73 common frames omitted
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=500, message=创建失败: 创建店铺商品失败: null, data=null)]
2025-11-19 13:35:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:35:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:35:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=方式分公司, description=, unitPrice=2, productImage=null, (truncated)...]
2025-11-19 13:35:38 [http-nio-8080-exec-2] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:35:38 [http-nio-8080-exec-2] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:35:38 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:35:38 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 方式分公司(String)
2025-11-19 13:35:38 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:35:39 [http-nio-8080-exec-2] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:35:39 [http-nio-8080-exec-2] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 方式分公司(String), (String), 2(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:35:39 [http-nio-8080-exec-2] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:35:39 [http-nio-8080-exec-2] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT version FROM store_products WHERE id = ?
2025-11-19 13:35:39 [http-nio-8080-exec-2] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: null
2025-11-19 13:35:39 [http-nio-8080-exec-2] DEBUG c.j.m.S.insert!selectKey - <==      Total: 0
2025-11-19 13:35:42 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:42 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:42 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:36:12.846883900(LocalDateTime), 2(Long)
2025-11-19 13:35:42 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:35:42 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:35:42 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:35:42 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:42 [http-nio-8080-exec-2] ERROR c.jiaoyi.service.StoreProductService - 创建店铺商品失败，店铺ID: 1, 商品名称: 方式分公司
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy104.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy122.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 73 common frames omitted
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:36:26.149980(LocalDateTime), 2(Long)
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:35:56 [http-nio-8080-exec-2] ERROR c.j.c.StoreProductController - 创建店铺商品失败
java.lang.RuntimeException: 创建店铺商品失败: null
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.jiaoyi.service.StoreProductService$$SpringCGLIB$$0.createStoreProduct(<generated>)
	at com.jiaoyi.controller.StoreProductController.createStoreProduct(StoreProductController.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy104.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy122.insert(Unknown Source)
	at com.jiaoyi.service.StoreProductService.createStoreProduct(StoreProductService.java:66)
	... 66 common frames omitted
Caused by: org.apache.ibatis.executor.ExecutorException: SelectKey returned no data.
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)
	at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:54)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:52)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 73 common frames omitted
2025-11-19 13:35:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:35:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=500, message=创建失败: 创建店铺商品失败: null, data=null)]
2025-11-19 13:35:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:35:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - ========== 停止节点 ==========
2025-11-19 13:35:56 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程已停止
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 已清理Redis心跳
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 节点已停止（数据库记录保留，通过expired_time判断存活）
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-19 13:35:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-19 13:38:06 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 46500 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 13:38:06 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 13:38:06 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 13:38:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 13:38:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 13:38:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 13:38:07 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 13:38:07 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:38:07 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:38:07 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:38:07 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:38:07 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 13:38:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 13:38:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 13:38:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 13:38:08 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 13:38:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1440 ms
2025-11-19 13:38:08 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 13:38:08 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 13:38:08 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:38:08 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox_node表已存在，跳过创建
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 13:38:08 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 13:38:09 [main] INFO  o.a.r.s.a.RocketMQAutoConfiguration - a producer (order-timeout-producer-group) init on namesrv localhost:9876
2025-11-19 13:38:09 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:38:09 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-19 13:38:09 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox节点线程池初始化完成 - 线程数: 1（一个应用一个节点）
2025-11-19 13:38:09 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 13:38:09 [main] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 13:38:09 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 13:38:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-19 13:38:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f254d79
2025-11-19 13:38:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-19 13:38:09 [main] DEBUG c.j.m.O.selectByNodeId - ==>  Preparing: SELECT * FROM outbox_node WHERE node_id = ?
2025-11-19 13:38:09 [main] DEBUG c.j.m.O.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 13:38:09 [main] DEBUG c.j.m.O.selectByNodeId - <==      Total: 1
2025-11-19 13:38:09 [main] DEBUG c.j.m.O.updateByNodeId - ==>  Preparing: UPDATE outbox_node SET ip = ?, port = ?, expired_time = ?, updated_at = NOW() WHERE node_id = ?
2025-11-19 13:38:09 [main] DEBUG c.j.m.O.updateByNodeId - ==> Parameters: 192.168.0.120(String), 8080(Integer), 2025-11-19T13:38:39.611182800(LocalDateTime), 192.168.0.120:8080(String)
2025-11-19 13:38:09 [main] DEBUG c.j.m.O.updateByNodeId - <==    Updates: 1
2025-11-19 13:38:09 [main] INFO  com.jiaoyi.service.OutboxService - 节点已存在，更新心跳，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 13:38:09 [main] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 13:38:09 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程启动，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 13:38:09 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:38:09 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:38:39.697933(LocalDateTime), 2(Long)
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:09 [outbox-node] INFO  com.jiaoyi.service.ClusterInfo - 分片分配完成 - 分片数: 10, 节点数: 1, 分配结果: {0=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:09 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 13:38:09 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-19 13:38:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-19 13:38:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-11-19 13:38:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45c8db36
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7861a433
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a4ea134
2025-11-19 13:38:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:12 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox线程池初始化完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100, 保活时间: 60秒
2025-11-19 13:38:12 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-11-19 13:38:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-11-19 13:38:12 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-19 13:38:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-19 13:38:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-19 13:38:13 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-19 13:38:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-19 13:38:13 [main] INFO  com.jiaoyi.JiaoyiApplication - Started JiaoyiApplication in 6.861 seconds (process running for 7.409)
2025-11-19 13:38:13 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T12:58:13.178242700(LocalDateTime)
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:38:13.182232700(LocalDateTime), 100(Integer)
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:38:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:38:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:38:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:38:13 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19 13:38:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@24267981
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@9f9406d
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-19 13:38:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=方式分公司, description=, unitPrice=2, productImage=null, (truncated)...]
2025-11-19 13:38:13 [http-nio-8080-exec-1] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:38:13 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 方式分公司
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 方式分公司(String)
2025-11-19 13:38:13 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:15 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:38:15 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 方式分公司(String), (String), 2(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:38:15 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:38:15 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT LAST_INSERT_ID()
2025-11-19 13:38:15 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: 
2025-11-19 13:38:15 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - <==      Total: 1
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:38:49.787630800(LocalDateTime), 2(Long)
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.StoreProductMapper.selectById - ==>  Preparing: SELECT * FROM store_products WHERE id = ? AND is_delete = 0
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.StoreProductMapper.selectById - ==> Parameters: 71(Long)
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.StoreProductMapper.selectById - <==      Total: 1
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:19 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 商品创建成功，商品ID: 71, 版本号: 1
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:19 [http-nio-8080-exec-1] INFO  com.jiaoyi.service.InventoryService - 创建库存记录，店铺ID: 1, 商品ID: 71, 商品名称: 方式分公司
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.I.selectByStoreIdAndProductId - ==>  Preparing: SELECT * FROM inventory WHERE store_id = ? AND product_id = ?
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.I.selectByStoreIdAndProductId - ==> Parameters: 1(Long), 71(Long)
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.I.selectByStoreIdAndProductId - <==      Total: 0
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.mapper.InventoryMapper.insert - ==>  Preparing: INSERT INTO inventory ( store_id, product_id, product_name, current_stock, locked_stock, min_stock, max_stock ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.mapper.InventoryMapper.insert - ==> Parameters: 1(Long), 71(Long), 方式分公司(String), 0(Integer), 0(Integer), 0(Integer), null
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.mapper.InventoryMapper.insert - <==    Updates: 1
2025-11-19 13:38:19 [http-nio-8080-exec-1] INFO  com.jiaoyi.service.InventoryService - 库存记录创建成功，库存ID: 49, 店铺ID: 1, 商品ID: 71
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.service.InventoryCacheService - 缓存库存信息成功，商品ID: 71
2025-11-19 13:38:19 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 库存记录创建成功，店铺ID: 1, 商品ID: 71
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.S.incrementProductListVersion - ==>  Preparing: UPDATE stores SET product_list_version = product_list_version + 1 WHERE id = ?
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.S.incrementProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:38:19 [http-nio-8080-exec-1] DEBUG c.j.m.S.incrementProductListVersion - <==    Updates: 1
2025-11-19 13:38:19 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 店铺商品列表版本号已递增，店铺ID: 1
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==>  Preparing: INSERT INTO outbox ( shard_id, topic, tag, message_key, message_body, status, retry_count, error_message, created_at, sent_at ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==> Parameters: 0(Integer), product-cache-update-topic(String), update(String), 71(String), {"productId":71,"storeId":1,"operationType":"CREATE","timestamp":1763530699930,"enrichInventory":true,"version":1,"storeProduct":{"id":71,"storeId":1,"productName":"方式分公司","description":"","unitPrice":2,"productImage":null,"category":null,"status":"ACTIVE","isDelete":null,"version":1,"createTime":null,"updateTime":null}}(String), PENDING(String), 0(Integer), null, 2025-11-19T13:38:25.585103600(LocalDateTime), null
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - <==    Updates: 1
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG c.j.m.OutboxMapper.updateShardId - ==>  Preparing: UPDATE outbox SET shard_id = ? WHERE id = ?
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG c.j.m.OutboxMapper.updateShardId - ==> Parameters: 9(Integer), 19(Long)
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG c.j.m.OutboxMapper.updateShardId - <==    Updates: 1
2025-11-19 13:38:25 [http-nio-8080-exec-1] INFO  com.jiaoyi.service.OutboxService - 已写入outbox表，ID: 19, ShardId: 9, Topic: product-cache-update-topic, Tag: update
2025-11-19 13:38:25 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 已写入outbox表，商品ID: 71，定时任务将异步发送消息
2025-11-19 13:38:25 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 店铺商品创建成功（Outbox模式），商品ID: 71
2025-11-19 13:38:25 [http-nio-8080-exec-1] INFO  c.j.c.StoreProductController - 店铺商品创建成功，商品ID: 71
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=创建成功, data=StoreProduct(id=71, storeId=1, productName=方式分公司, descripti (truncated)...]
2025-11-19 13:38:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:38:26 [http-nio-8080-exec-2] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:38:26 [http-nio-8080-exec-2] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 关系缓存中没有商品ID，店铺ID: 1
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.jiaoyi.service.StoreProductService - 缓存未命中，从数据库查询店铺商品列表，店铺ID: 1
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreId - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND is_delete = 0 ORDER BY create_time DESC
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreId - ==> Parameters: 1(Long)
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.m.S.selectByStoreId - <==      Total: 22
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 更新店铺商品ID列表缓存成功（Lua脚本），店铺ID: 1, 商品数量: 22, 版本号: 2
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 初始化店铺商品ID关系缓存，店铺ID: 1, 商品数量: 22, 版本号: 2
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 71, 版本号: 1
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存中的商品版本号不够新，跳过更新（Lua脚本），商品ID: 62, 版本号: 2
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 61, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 60, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 59, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 58, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 57, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 56, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 55, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 54, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 53, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 52, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 51, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 50, 版本号: 1
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 49, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 48, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 47, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 1, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 2, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 3, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 4, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 5, 版本号: 0
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG c.jiaoyi.service.StoreProductService - 初始化店铺商品缓存完成，店铺ID: 1, 商品数量: 22
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=71, storeId=1, productName=方式分公司, descript (truncated)...]
2025-11-19 13:38:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 1
2025-11-19 13:38:27 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点0扫描到 1 条待发送的outbox消息，节点索引: 0, 负责分片: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2025-11-19 13:38:27 [outbox-node] DEBUG com.jiaoyi.service.OutboxService - 已发送消息到RocketMQ，Topic: product-cache-update-topic, Tag: update, MessageKey: 71
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==>  Preparing: UPDATE outbox SET status = 'SENT', sent_at = ? WHERE id = ?
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==> Parameters: 2025-11-19T13:38:27.604215200(LocalDateTime), 19(Long)
2025-11-19 13:38:27 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - <==    Updates: 1
2025-11-19 13:38:27 [outbox-node] INFO  com.jiaoyi.service.OutboxService - Outbox消息发送成功，ID: 19, Topic: product-cache-update-topic, Tag: update
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] INFO  c.j.s.StoreProductCacheUpdateMessageService - 接收到店铺商品缓存更新消息（Outbox模式），店铺ID: 1, 商品ID: 71, 操作类型: CREATE
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.service.StoreProductCacheService - 缓存中的商品版本号不够新，跳过更新（Lua脚本），商品ID: 71, 版本号: 1
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] INFO  c.j.s.StoreProductCacheUpdateMessageService - 店铺商品缓存更新成功（CREATE），店铺ID: 1, 商品ID: 71, 版本号: 1
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND is_delete = 0 ORDER BY create_time DESC
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - ==> Parameters: 1(Long)
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - <==      Total: 22
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.service.StoreProductCacheService - 店铺商品ID列表缓存版本号不够新，跳过更新，店铺ID: 1, 版本号: 2
2025-11-19 13:38:27 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.s.StoreProductCacheUpdateMessageService - 从数据库刷新店铺商品关系缓存，店铺ID: 1, 商品数量: 22, 版本号: 2
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:39:01.618125500(LocalDateTime), 2(Long)
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:39:11.652716800(LocalDateTime), 2(Long)
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:38:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:38:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:38:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:39:21.691905(LocalDateTime), 2(Long)
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:38:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:39:31.731001300(LocalDateTime), 2(Long)
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:39:41.774168500(LocalDateTime), 2(Long)
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:39:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:39:13.184986700(LocalDateTime), 100(Integer)
2025-11-19 13:39:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:39:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:39:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:39:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:39:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/product-admin.html?storeId=1", parameters={masked}
2025-11-19 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:39:16 [http-nio-8080-exec-4] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:39:16 [http-nio-8080-exec-4] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 1
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 2
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 3
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 4
2025-11-19 13:39:16 [http-nio-8080-exec-7] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 5
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 71
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 47
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 48
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 49
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 50
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 51
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 52
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 53
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 54
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 55
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 56
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 57
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 58
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 59
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 60
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 61
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 缓存未命中，商品ID: 62
2025-11-19 13:39:16 [http-nio-8080-exec-4] WARN  c.j.service.StoreProductCacheService - 商品ID在关系缓存中，但单个商品缓存不存在，从关系缓存移除，店铺ID: 1, 商品ID: 62
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 店铺商品ID列表缓存版本号不够新，跳过更新，店铺ID: 1, 版本号: 2
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从店铺关系缓存移除商品ID，店铺ID: 1, 商品ID: 62
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 21
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=1, storeId=1, productName=iPhone 15 Pro, d (truncated)...]
2025-11-19 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:39:51.816529(LocalDateTime), 2(Long)
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=202511-19, description=, unitPrice=2323, productImag (truncated)...]
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 202511-19
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 202511-19
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 202511-19(String)
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 202511-19(String), (String), 2323(BigDecimal), null, null, ACTIVE(String)
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT LAST_INSERT_ID()
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: 
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.insert!selectKey - <==      Total: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.StoreProductMapper.selectById - ==>  Preparing: SELECT * FROM store_products WHERE id = ? AND is_delete = 0
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.StoreProductMapper.selectById - ==> Parameters: 72(Long)
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.StoreProductMapper.selectById - <==      Total: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.jiaoyi.service.StoreProductService - 商品创建成功，商品ID: 72, 版本号: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  com.jiaoyi.service.InventoryService - 创建库存记录，店铺ID: 1, 商品ID: 72, 商品名称: 202511-19
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.I.selectByStoreIdAndProductId - ==>  Preparing: SELECT * FROM inventory WHERE store_id = ? AND product_id = ?
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.I.selectByStoreIdAndProductId - ==> Parameters: 1(Long), 72(Long)
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.I.selectByStoreIdAndProductId - <==      Total: 0
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.mapper.InventoryMapper.insert - ==>  Preparing: INSERT INTO inventory ( store_id, product_id, product_name, current_stock, locked_stock, min_stock, max_stock ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.mapper.InventoryMapper.insert - ==> Parameters: 1(Long), 72(Long), 202511-19(String), 0(Integer), 0(Integer), 0(Integer), null
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.mapper.InventoryMapper.insert - <==    Updates: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  com.jiaoyi.service.InventoryService - 库存记录创建成功，库存ID: 50, 店铺ID: 1, 商品ID: 72
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.service.InventoryCacheService - 缓存库存信息成功，商品ID: 72
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.jiaoyi.service.StoreProductService - 库存记录创建成功，店铺ID: 1, 商品ID: 72
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.incrementProductListVersion - ==>  Preparing: UPDATE stores SET product_list_version = product_list_version + 1 WHERE id = ?
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.incrementProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.S.incrementProductListVersion - <==    Updates: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.jiaoyi.service.StoreProductService - 店铺商品列表版本号已递增，店铺ID: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==>  Preparing: INSERT INTO outbox ( shard_id, topic, tag, message_key, message_body, status, retry_count, error_message, created_at, sent_at ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==> Parameters: 0(Integer), product-cache-update-topic(String), update(String), 72(String), {"productId":72,"storeId":1,"operationType":"CREATE","timestamp":1763530769799,"enrichInventory":true,"version":1,"storeProduct":{"id":72,"storeId":1,"productName":"202511-19","description":"","unitPrice":2323,"productImage":null,"category":null,"status":"ACTIVE","isDelete":null,"version":1,"createTime":null,"updateTime":null}}(String), PENDING(String), 0(Integer), null, 2025-11-19T13:39:29.799635(LocalDateTime), null
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - <==    Updates: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.OutboxMapper.updateShardId - ==>  Preparing: UPDATE outbox SET shard_id = ? WHERE id = ?
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.OutboxMapper.updateShardId - ==> Parameters: 0(Integer), 20(Long)
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG c.j.m.OutboxMapper.updateShardId - <==    Updates: 1
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  com.jiaoyi.service.OutboxService - 已写入outbox表，ID: 20, ShardId: 0, Topic: product-cache-update-topic, Tag: update
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.jiaoyi.service.StoreProductService - 已写入outbox表，商品ID: 72，定时任务将异步发送消息
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.jiaoyi.service.StoreProductService - 店铺商品创建成功（Outbox模式），商品ID: 72
2025-11-19 13:39:29 [http-nio-8080-exec-6] INFO  c.j.c.StoreProductController - 店铺商品创建成功，商品ID: 72
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=创建成功, data=StoreProduct(id=72, storeId=1, productName=202511-19, descr (truncated)...]
2025-11-19 13:39:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 1
2025-11-19 13:39:29 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点0扫描到 1 条待发送的outbox消息，节点索引: 0, 负责分片: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2025-11-19 13:39:29 [outbox-node] DEBUG com.jiaoyi.service.OutboxService - 已发送消息到RocketMQ，Topic: product-cache-update-topic, Tag: update, MessageKey: 72
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==>  Preparing: UPDATE outbox SET status = 'SENT', sent_at = ? WHERE id = ?
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==> Parameters: 2025-11-19T13:39:29.862249300(LocalDateTime), 20(Long)
2025-11-19 13:39:29 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - <==    Updates: 1
2025-11-19 13:39:29 [outbox-node] INFO  com.jiaoyi.service.OutboxService - Outbox消息发送成功，ID: 20, Topic: product-cache-update-topic, Tag: update
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] INFO  c.j.s.StoreProductCacheUpdateMessageService - 接收到店铺商品缓存更新消息（Outbox模式），店铺ID: 1, 商品ID: 72, 操作类型: CREATE
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 72, 版本号: 1
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] INFO  c.j.s.StoreProductCacheUpdateMessageService - 店铺商品缓存更新成功（CREATE），店铺ID: 1, 商品ID: 72, 版本号: 1
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.m.S.selectByStoreId - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND is_delete = 0 ORDER BY create_time DESC
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.m.S.selectByStoreId - ==> Parameters: 1(Long)
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.m.S.selectByStoreId - <==      Total: 23
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.service.StoreProductCacheService - 更新店铺商品ID列表缓存成功（Lua脚本），店铺ID: 1, 商品数量: 23, 版本号: 3
2025-11-19 13:39:29 [ConsumeMessageThread_product-cache-update-consumer-group_2] DEBUG c.j.s.StoreProductCacheUpdateMessageService - 从数据库刷新店铺商品关系缓存，店铺ID: 1, 商品数量: 23, 版本号: 3
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:39:30 [http-nio-8080-exec-8] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:39:30 [http-nio-8080-exec-8] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 1
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 2
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 3
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 4
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 5
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 71
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 72
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 47
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 48
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 49
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 50
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 51
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 52
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 53
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 54
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 55
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 56
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 57
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 58
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 59
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 60
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 61
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 缓存未命中，商品ID: 62
2025-11-19 13:39:30 [http-nio-8080-exec-8] WARN  c.j.service.StoreProductCacheService - 商品ID在关系缓存中，但单个商品缓存不存在，从关系缓存移除，店铺ID: 1, 商品ID: 62
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 店铺商品ID列表缓存版本号不够新，跳过更新，店铺ID: 1, 版本号: 3
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从店铺关系缓存移除商品ID，店铺ID: 1, 商品ID: 62
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 22
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 22
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=1, storeId=1, productName=iPhone 15 Pro, d (truncated)...]
2025-11-19 13:39:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:40:01.866491200(LocalDateTime), 2(Long)
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:40:11.904491900(LocalDateTime), 2(Long)
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:39:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:39:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:39:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/product-admin.html?storeId=1", parameters={masked}
2025-11-19 13:39:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:39:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 13:39:47 [http-nio-8080-exec-10] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 13:39:47 [http-nio-8080-exec-10] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 1
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 2
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 3
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 4
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 5
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 71
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 72
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 47
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 48
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 49
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 50
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 51
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 52
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.jiaoyi.exception.GlobalExceptionHandler#handleException(Exception)
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 53
2025-11-19 13:39:47 [http-nio-8080-exec-1] ERROR c.j.exception.GlobalExceptionHandler - 未知异常
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(code=500, message=系统内部错误, data=null)]
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 54
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-11-19 13:39:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 55
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 56
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 57
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 58
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 59
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 60
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 61
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 缓存未命中，商品ID: 62
2025-11-19 13:39:47 [http-nio-8080-exec-10] WARN  c.j.service.StoreProductCacheService - 商品ID在关系缓存中，但单个商品缓存不存在，从关系缓存移除，店铺ID: 1, 商品ID: 62
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 店铺商品ID列表缓存版本号不够新，跳过更新，店铺ID: 1, 版本号: 3
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从店铺关系缓存移除商品ID，店铺ID: 1, 商品ID: 62
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 22
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 22
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=1, storeId=1, productName=iPhone 15 Pro, d (truncated)...]
2025-11-19 13:39:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:40:21.946713200(LocalDateTime), 2(Long)
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:39:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:40:31.979449900(LocalDateTime), 2(Long)
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:40:42.011132800(LocalDateTime), 2(Long)
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:40:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:40:13.188380100(LocalDateTime), 100(Integer)
2025-11-19 13:40:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:40:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:40:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:40:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:40:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:40:52.051501800(LocalDateTime), 2(Long)
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:41:02.093318700(LocalDateTime), 2(Long)
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:41:12.131422900(LocalDateTime), 2(Long)
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:40:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:40:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:40:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:41:22.177542500(LocalDateTime), 2(Long)
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:40:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:41:32.212853400(LocalDateTime), 2(Long)
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:41:42.245660900(LocalDateTime), 2(Long)
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:41:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:41:13.192137400(LocalDateTime), 100(Integer)
2025-11-19 13:41:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:41:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:41:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:41:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:41:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:41:52.293302100(LocalDateTime), 2(Long)
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:42:02.329873100(LocalDateTime), 2(Long)
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:42:12.366103400(LocalDateTime), 2(Long)
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:41:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:41:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:41:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:42:22.396913300(LocalDateTime), 2(Long)
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:41:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:42:32.432939500(LocalDateTime), 2(Long)
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:42:42.461713900(LocalDateTime), 2(Long)
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:42:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:42:13.196345500(LocalDateTime), 100(Integer)
2025-11-19 13:42:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:42:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:42:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:42:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:42:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:42:52.503956100(LocalDateTime), 2(Long)
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:43:02.542676800(LocalDateTime), 2(Long)
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:43:12.580710(LocalDateTime), 2(Long)
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:42:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:42:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:42:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:43:22.613624400(LocalDateTime), 2(Long)
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:42:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:43:32.644081100(LocalDateTime), 2(Long)
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:43:42.676051500(LocalDateTime), 2(Long)
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:13 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:03:13.184201100(LocalDateTime)
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:43:13.199151300(LocalDateTime), 100(Integer)
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:43:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:43:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:43:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:43:52.699640600(LocalDateTime), 2(Long)
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:44:02.728507800(LocalDateTime), 2(Long)
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:44:12.756232300(LocalDateTime), 2(Long)
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:43:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:43:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:43:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:44:22.783542300(LocalDateTime), 2(Long)
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:43:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:44:32.817402400(LocalDateTime), 2(Long)
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:44:42.850086600(LocalDateTime), 2(Long)
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:44:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:44:13.200673100(LocalDateTime), 100(Integer)
2025-11-19 13:44:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:44:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:44:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:44:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:44:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:44:52.878128100(LocalDateTime), 2(Long)
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:45:02.908877(LocalDateTime), 2(Long)
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:45:12.939723700(LocalDateTime), 2(Long)
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:44:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:44:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:44:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:45:22.969242600(LocalDateTime), 2(Long)
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:44:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:02 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:45:32.999380500(LocalDateTime), 2(Long)
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:45:43.030776400(LocalDateTime), 2(Long)
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:45:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:45:13.203933600(LocalDateTime), 100(Integer)
2025-11-19 13:45:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:45:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:45:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:45:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:45:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:45:53.069906300(LocalDateTime), 2(Long)
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:46:03.099354700(LocalDateTime), 2(Long)
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:46:13.132427900(LocalDateTime), 2(Long)
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:45:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:45:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:45:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:46:23.160981(LocalDateTime), 2(Long)
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:45:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:46:33.195582900(LocalDateTime), 2(Long)
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:46:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:46:13.208485700(LocalDateTime), 100(Integer)
2025-11-19 13:46:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:46:43.233145300(LocalDateTime), 2(Long)
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:46:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:46:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:46:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:46:53.267925800(LocalDateTime), 2(Long)
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:47:03.301768900(LocalDateTime), 2(Long)
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:46:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:46:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:46:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:47:13.335767100(LocalDateTime), 2(Long)
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:47:23.368680700(LocalDateTime), 2(Long)
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:46:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:47:33.398861300(LocalDateTime), 2(Long)
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:47:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:47:13.212686(LocalDateTime), 100(Integer)
2025-11-19 13:47:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:47:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:47:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:47:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:47:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:47:43.430788900(LocalDateTime), 2(Long)
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:47:53.466120100(LocalDateTime), 2(Long)
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:48:03.498328600(LocalDateTime), 2(Long)
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:47:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:47:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:47:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:48:13.537606300(LocalDateTime), 2(Long)
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:48:23.574842700(LocalDateTime), 2(Long)
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:47:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:48:33.606921900(LocalDateTime), 2(Long)
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:13 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:08:13.186481600(LocalDateTime)
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:48:13.217378500(LocalDateTime), 100(Integer)
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:48:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:48:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:48:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:48:43.632790800(LocalDateTime), 2(Long)
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:48:53.669473700(LocalDateTime), 2(Long)
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:49:03.701195500(LocalDateTime), 2(Long)
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:48:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:48:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:48:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:49:13.728187400(LocalDateTime), 2(Long)
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:49:23.762145500(LocalDateTime), 2(Long)
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:48:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:49:33.791676(LocalDateTime), 2(Long)
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:49:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:49:13.221665600(LocalDateTime), 100(Integer)
2025-11-19 13:49:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:49:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:49:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:49:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:49:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:49:43.818169(LocalDateTime), 2(Long)
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:49:53.848501200(LocalDateTime), 2(Long)
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:50:03.882612100(LocalDateTime), 2(Long)
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:49:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:49:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:49:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:50:13.917234900(LocalDateTime), 2(Long)
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:50:23.951655300(LocalDateTime), 2(Long)
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:49:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:50:33.977786800(LocalDateTime), 2(Long)
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:50:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:50:13.226604900(LocalDateTime), 100(Integer)
2025-11-19 13:50:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:50:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:50:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:50:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:50:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:50:44.005303800(LocalDateTime), 2(Long)
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:50:54.038028100(LocalDateTime), 2(Long)
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:51:04.070219200(LocalDateTime), 2(Long)
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:50:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:50:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:50:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:51:14.105452(LocalDateTime), 2(Long)
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:51:24.140323(LocalDateTime), 2(Long)
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:50:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:51:34.174218(LocalDateTime), 2(Long)
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:51:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:51:13.229683700(LocalDateTime), 100(Integer)
2025-11-19 13:51:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:51:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:51:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:51:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:51:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:51:44.206090800(LocalDateTime), 2(Long)
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:51:54.238642700(LocalDateTime), 2(Long)
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:52:04.274245200(LocalDateTime), 2(Long)
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:51:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:51:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:51:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:52:14.310410800(LocalDateTime), 2(Long)
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:52:24.343418500(LocalDateTime), 2(Long)
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:51:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:52:34.372489300(LocalDateTime), 2(Long)
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:52:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:52:13.232816100(LocalDateTime), 100(Integer)
2025-11-19 13:52:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:52:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:52:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:52:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:52:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:52:44.401128900(LocalDateTime), 2(Long)
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:52:54.437589700(LocalDateTime), 2(Long)
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:53:04.468789700(LocalDateTime), 2(Long)
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:52:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:52:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:52:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:53:14.502125100(LocalDateTime), 2(Long)
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:53:24.531206100(LocalDateTime), 2(Long)
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:52:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:53:34.556353800(LocalDateTime), 2(Long)
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:13 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:13:13.187669500(LocalDateTime)
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:53:13.238500400(LocalDateTime), 100(Integer)
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:53:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:53:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:53:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:53:44.587503700(LocalDateTime), 2(Long)
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:53:54.617605900(LocalDateTime), 2(Long)
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:54:04.650585500(LocalDateTime), 2(Long)
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:53:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:53:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:53:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:54:14.668905300(LocalDateTime), 2(Long)
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:54:24.691530(LocalDateTime), 2(Long)
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:53:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:54:34.719598800(LocalDateTime), 2(Long)
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:54:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:54:13.243176(LocalDateTime), 100(Integer)
2025-11-19 13:54:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:54:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:54:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:54:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:54:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:54:44.746831800(LocalDateTime), 2(Long)
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:54:54.774939200(LocalDateTime), 2(Long)
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:55:04.801970100(LocalDateTime), 2(Long)
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:54:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:54:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:54:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:55:14.836029300(LocalDateTime), 2(Long)
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:55:24.866110900(LocalDateTime), 2(Long)
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:54:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:55:34.896222(LocalDateTime), 2(Long)
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:55:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:55:13.248410800(LocalDateTime), 100(Integer)
2025-11-19 13:55:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:55:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:55:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:55:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:55:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:55:44.925097200(LocalDateTime), 2(Long)
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:55:54.956133900(LocalDateTime), 2(Long)
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:56:04.976681700(LocalDateTime), 2(Long)
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:55:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:55:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:55:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:56:15.000710500(LocalDateTime), 2(Long)
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:56:25.033384200(LocalDateTime), 2(Long)
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:55:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:56:35.064780(LocalDateTime), 2(Long)
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:56:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:56:13.251741100(LocalDateTime), 100(Integer)
2025-11-19 13:56:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:56:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:56:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:56:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:56:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:56:45.099847400(LocalDateTime), 2(Long)
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:56:55.134508400(LocalDateTime), 2(Long)
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:57:05.169135800(LocalDateTime), 2(Long)
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:56:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:56:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:56:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:57:15.206007400(LocalDateTime), 2(Long)
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:57:25.231298500(LocalDateTime), 2(Long)
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:56:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:57:35.267497500(LocalDateTime), 2(Long)
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:57:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:57:13.253977400(LocalDateTime), 100(Integer)
2025-11-19 13:57:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:57:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:57:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:57:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:57:45.298839600(LocalDateTime), 2(Long)
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:57:55.334261200(LocalDateTime), 2(Long)
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:58:05.363299500(LocalDateTime), 2(Long)
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:57:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:57:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 13:57:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:58:15.391378300(LocalDateTime), 2(Long)
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:58:25.420438800(LocalDateTime), 2(Long)
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:57:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:58:35.453078600(LocalDateTime), 2(Long)
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:13 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:18:13.191171400(LocalDateTime)
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:58:13.256947500(LocalDateTime), 100(Integer)
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:58:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:58:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:58:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:58:45.477682400(LocalDateTime), 2(Long)
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:58:55.516208(LocalDateTime), 2(Long)
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:59:05.550212500(LocalDateTime), 2(Long)
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:58:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:58:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:58:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:59:15.581515900(LocalDateTime), 2(Long)
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:59:25.613382600(LocalDateTime), 2(Long)
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:58:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:59:35.638795700(LocalDateTime), 2(Long)
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 13:59:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T13:59:13.259504400(LocalDateTime), 100(Integer)
2025-11-19 13:59:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 13:59:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:59:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:59:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:59:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:59:45.667759900(LocalDateTime), 2(Long)
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T13:59:55.697726400(LocalDateTime), 2(Long)
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:00:05.727619800(LocalDateTime), 2(Long)
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 13:59:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 13:59:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 13:59:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:00:15.762126400(LocalDateTime), 2(Long)
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:00:25.784450300(LocalDateTime), 2(Long)
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 13:59:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:00:35.809300200(LocalDateTime), 2(Long)
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:00:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:00:13.262232200(LocalDateTime), 100(Integer)
2025-11-19 14:00:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:00:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:00:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:00:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:00:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:00:45.841310300(LocalDateTime), 2(Long)
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:00:55.864162400(LocalDateTime), 2(Long)
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:01:05.890031100(LocalDateTime), 2(Long)
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:00:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:00:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:00:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:01:15.909275600(LocalDateTime), 2(Long)
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:01:25.934474(LocalDateTime), 2(Long)
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:00:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:01:35.968086200(LocalDateTime), 2(Long)
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:01:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:01:13.265256600(LocalDateTime), 100(Integer)
2025-11-19 14:01:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:01:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:01:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:01:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:01:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:01:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:01:45.997676400(LocalDateTime), 2(Long)
2025-11-19 14:01:15 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:01:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:01:56.022852100(LocalDateTime), 2(Long)
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:02:06.051807700(LocalDateTime), 2(Long)
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:01:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:01:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:01:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:02:16.072130100(LocalDateTime), 2(Long)
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:02:26.090733300(LocalDateTime), 2(Long)
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:01:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:02:36.116225300(LocalDateTime), 2(Long)
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:02:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:02:13.267561300(LocalDateTime), 100(Integer)
2025-11-19 14:02:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:02:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:02:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:02:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:02:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:02:46.139062300(LocalDateTime), 2(Long)
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:02:56.162920200(LocalDateTime), 2(Long)
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:03:06.179013700(LocalDateTime), 2(Long)
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:02:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:02:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:02:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:03:16.201077800(LocalDateTime), 2(Long)
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:03:26.228421800(LocalDateTime), 2(Long)
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:02:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:03:36.247011700(LocalDateTime), 2(Long)
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:13 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:23:13.194627200(LocalDateTime)
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:03:13.270065(LocalDateTime), 100(Integer)
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:13 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:03:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:03:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:03:13 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:03:46.269416900(LocalDateTime), 2(Long)
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:03:56.289848300(LocalDateTime), 2(Long)
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:04:06.311000700(LocalDateTime), 2(Long)
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:43 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:03:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:03:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:03:43 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:04:16.333106(LocalDateTime), 2(Long)
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - ========== 停止节点 ==========
2025-11-19 14:03:51 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程已停止
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 已清理Redis心跳
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 节点已停止（数据库记录保留，通过expired_time判断存活）
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-19 14:03:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-19 14:03:54 [main] INFO  com.jiaoyi.JiaoyiApplication - Starting JiaoyiApplication using Java 21.0.7 with PID 17544 (D:\软件\ideaproject\jiaoyi\target\classes started by Administrator in D:\软件\ideaproject\jiaoyi)
2025-11-19 14:03:54 [main] DEBUG com.jiaoyi.JiaoyiApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-19 14:03:54 [main] INFO  com.jiaoyi.JiaoyiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-19 14:03:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-19 14:03:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-19 14:03:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponMapper' and 'com.jiaoyi.mapper.CouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'couponUsageMapper' and 'com.jiaoyi.mapper.CouponUsageMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryMapper' and 'com.jiaoyi.mapper.InventoryMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'inventoryTransactionMapper' and 'com.jiaoyi.mapper.InventoryTransactionMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderCouponMapper' and 'com.jiaoyi.mapper.OrderCouponMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderItemMapper' and 'com.jiaoyi.mapper.OrderItemMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'orderMapper' and 'com.jiaoyi.mapper.OrderMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxMapper' and 'com.jiaoyi.mapper.OutboxMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'outboxNodeMapper' and 'com.jiaoyi.mapper.OutboxNodeMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeMapper' and 'com.jiaoyi.mapper.StoreMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'storeProductMapper' and 'com.jiaoyi.mapper.StoreProductMapper' mapperInterface. Bean already defined with the same name!
2025-11-19 14:03:55 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.jiaoyi.mapper]' package. Please check your configuration.
2025-11-19 14:03:56 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 14:03:56 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 14:03:56 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 14:03:56 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 14:03:56 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-11-19 14:03:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-19 14:03:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-19 14:03:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-11-19 14:03:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-19 14:03:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1576 ms
2025-11-19 14:03:56 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-19 14:03:56 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-11-19 14:03:57 [redisson-netty-2-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-11-19 14:03:57 [redisson-netty-2-20] INFO  o.r.c.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取URL: 原始=jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, lastSlashIndex=27, questionMarkIndex=34, 基础部分=jdbc:mysql://localhost:3306, 参数部分=?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai, 结果=jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 开始创建分库分表数据库和表...
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 原始JDBC URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 提取的基础URL: jdbc:mysql://localhost:3306?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 创建成功
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 创建成功
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 创建成功
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_0 的所有分片表创建完成
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_1 的所有分片表创建完成
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 商品表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单项表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 订单优惠券关联表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer -   ✓ 优惠券使用记录表分片创建完成（3个分片表）
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 数据库 jiaoyi_2 的所有分片表创建完成
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 分库分表数据库和表创建完成！
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - 连接基础数据库URL: jdbc:mysql://localhost:3306/jiaoyi?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox_node表已存在，跳过创建
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表已存在，检查shard_id列...
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - outbox表的shard_id列已存在，跳过添加
2025-11-19 14:03:57 [main] INFO  c.jiaoyi.config.DatabaseInitializer - ✓ 所有数据库和表初始化完成！
2025-11-19 14:03:57 [main] INFO  o.a.r.s.a.RocketMQAutoConfiguration - a producer (order-timeout-producer-group) init on namesrv localhost:9876
2025-11-19 14:03:58 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:03:58 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:orderTimeoutMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-11-19 14:03:58 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox节点线程池初始化完成 - 线程数: 1（一个应用一个节点）
2025-11-19 14:03:58 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP地址: 192.168.0.120
2025-11-19 14:03:58 [main] INFO  com.jiaoyi.service.OutboxService - ========== 启动Outbox节点 ==========
2025-11-19 14:03:58 [main] INFO  com.jiaoyi.service.OutboxService - 本机IP: 192.168.0.120, 端口: 8080
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4303511e
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-19 14:03:58 [main] DEBUG c.j.m.O.selectByNodeId - ==>  Preparing: SELECT * FROM outbox_node WHERE node_id = ?
2025-11-19 14:03:58 [main] DEBUG c.j.m.O.selectByNodeId - ==> Parameters: 192.168.0.120:8080(String)
2025-11-19 14:03:58 [main] DEBUG c.j.m.O.selectByNodeId - <==      Total: 1
2025-11-19 14:03:58 [main] DEBUG c.j.m.O.updateByNodeId - ==>  Preparing: UPDATE outbox_node SET ip = ?, port = ?, expired_time = ?, updated_at = NOW() WHERE node_id = ?
2025-11-19 14:03:58 [main] DEBUG c.j.m.O.updateByNodeId - ==> Parameters: 192.168.0.120(String), 8080(Integer), 2025-11-19T14:04:28.161789300(LocalDateTime), 192.168.0.120:8080(String)
2025-11-19 14:03:58 [main] DEBUG c.j.m.O.updateByNodeId - <==    Updates: 1
2025-11-19 14:03:58 [main] INFO  com.jiaoyi.service.OutboxService - 节点已存在，更新心跳，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 14:03:58 [main] INFO  com.jiaoyi.service.OutboxService - ========== 节点已启动 ==========
2025-11-19 14:03:58 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程启动，节点ID: 192.168.0.120:8080，数据库ID: 2
2025-11-19 14:03:58 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:03:58 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:inventoryCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:04:28.259252900(LocalDateTime), 2(Long)
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:03:58 [outbox-node] INFO  com.jiaoyi.service.ClusterInfo - 分片分配完成 - 分片数: 10, 节点数: 1, 分配结果: {0=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]}
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:03:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:03:58 [main] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:03:58 [main] INFO  o.a.r.s.s.RocketMQMessageListenerContainerRegistrar - Register the listener to container, listenerBeanName:storeProductCacheUpdateMessageService, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6222a343
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61c1be2f
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5765cd21
2025-11-19 14:03:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:01 [main] INFO  c.j.config.OutboxThreadPoolConfig - Outbox线程池初始化完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100, 保活时间: 60秒
2025-11-19 14:04:01 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-11-19 14:04:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-11-19 14:04:01 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-19 14:04:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-19 14:04:01 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-19 14:04:01 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-11-19 14:04:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-19 14:04:02 [main] INFO  com.jiaoyi.JiaoyiApplication - Started JiaoyiApplication in 7.417 seconds (process running for 7.967)
2025-11-19 14:04:02 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:24:02.036674500(LocalDateTime)
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:04:02.040664900(LocalDateTime), 100(Integer)
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:04:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:04:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:04:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@73743c1d
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@217e2d7d
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-19 14:04:02 [RMI TCP Connection(4)-192.168.0.120] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:04:38.333547300(LocalDateTime), 2(Long)
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/store-products/store/1", parameters={}
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#createStoreProduct(Long, StoreProduct)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [StoreProduct(id=null, storeId=null, productName=质朴的钢鞋子12, description=, unitPrice=22, productImage=n (truncated)...]
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.j.c.StoreProductController - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 质朴的钢鞋子12
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 创建店铺商品（Outbox模式），店铺ID: 1, 商品名称: 质朴的钢鞋子12
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 质朴的钢鞋子12(String)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 0
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==>  Preparing: INSERT INTO store_products ( store_id, product_name, description, unit_price, product_image, category, status, version ) VALUES ( ?, ?, ?, ?, ?, ?, ?, 1 )
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - ==> Parameters: 1(Long), 质朴的钢鞋子12(String), (String), 22(BigDecimal), null, null, ACTIVE(String)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.mapper.StoreProductMapper.insert - <==    Updates: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==>  Preparing: SELECT id FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0 ORDER BY id DESC LIMIT 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - ==> Parameters: 1(Long), 质朴的钢鞋子12(String)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.insert!selectKey - <==      Total: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND product_name = ? AND is_delete = 0
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - ==> Parameters: 1(Long), 质朴的钢鞋子12(String)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.selectByStoreIdAndProductName - <==      Total: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 商品创建成功，商品ID: 73, 版本号: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  com.jiaoyi.service.InventoryService - 创建库存记录，店铺ID: 1, 商品ID: 73, 商品名称: 质朴的钢鞋子12
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.I.selectByStoreIdAndProductId - ==>  Preparing: SELECT * FROM inventory WHERE store_id = ? AND product_id = ?
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.I.selectByStoreIdAndProductId - ==> Parameters: 1(Long), 73(Long)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.I.selectByStoreIdAndProductId - <==      Total: 0
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.mapper.InventoryMapper.insert - ==>  Preparing: INSERT INTO inventory ( store_id, product_id, product_name, current_stock, locked_stock, min_stock, max_stock ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.mapper.InventoryMapper.insert - ==> Parameters: 1(Long), 73(Long), 质朴的钢鞋子12(String), 0(Integer), 0(Integer), 0(Integer), null
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.mapper.InventoryMapper.insert - <==    Updates: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  com.jiaoyi.service.InventoryService - 库存记录创建成功，库存ID: 51, 店铺ID: 1, 商品ID: 73
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.service.InventoryCacheService - 缓存库存信息成功，商品ID: 73
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 库存记录创建成功，店铺ID: 1, 商品ID: 73
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.incrementProductListVersion - ==>  Preparing: UPDATE stores SET product_list_version = product_list_version + 1 WHERE id = ?
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.incrementProductListVersion - ==> Parameters: 1(Long)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.S.incrementProductListVersion - <==    Updates: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 店铺商品列表版本号已递增，店铺ID: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==>  Preparing: INSERT INTO outbox ( shard_id, topic, tag, message_key, message_body, status, retry_count, error_message, created_at, sent_at ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - ==> Parameters: 0(Integer), product-cache-update-topic(String), update(String), 73(String), {"productId":73,"storeId":1,"operationType":"CREATE","timestamp":1763532251334,"enrichInventory":true,"version":1,"storeProduct":{"id":73,"storeId":1,"productName":"质朴的钢鞋子12","description":"","unitPrice":22,"productImage":null,"category":null,"status":"ACTIVE","isDelete":null,"version":1,"createTime":null,"updateTime":null}}(String), PENDING(String), 0(Integer), null, 2025-11-19T14:04:11.340668600(LocalDateTime), null
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.jiaoyi.mapper.OutboxMapper.insert - <==    Updates: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.OutboxMapper.updateShardId - ==>  Preparing: UPDATE outbox SET shard_id = ? WHERE id = ?
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.OutboxMapper.updateShardId - ==> Parameters: 1(Integer), 21(Long)
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG c.j.m.OutboxMapper.updateShardId - <==    Updates: 1
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  com.jiaoyi.service.OutboxService - 已写入outbox表，ID: 21, ShardId: 1, Topic: product-cache-update-topic, Tag: update
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 已写入outbox表，商品ID: 73，定时任务将异步发送消息
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.jiaoyi.service.StoreProductService - 店铺商品创建成功（Outbox模式），商品ID: 73
2025-11-19 14:04:11 [http-nio-8080-exec-1] INFO  c.j.c.StoreProductController - 店铺商品创建成功，商品ID: 73
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=创建成功, data=StoreProduct(id=73, storeId=1, productName=质朴的钢鞋子12, descri (truncated)...]
2025-11-19 14:04:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/store-products/store/1", parameters={}
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.jiaoyi.controller.StoreProductController#getStoreProductsByStoreId(Long)
2025-11-19 14:04:11 [http-nio-8080-exec-2] INFO  c.j.c.StoreProductController - 获取店铺商品列表，店铺ID: 1
2025-11-19 14:04:11 [http-nio-8080-exec-2] INFO  c.jiaoyi.service.StoreProductService - 查询店铺商品，店铺ID: 1
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 1
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 2
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 3
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 4
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 5
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 71
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 72
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 47
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 48
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 49
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 50
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 51
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 52
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 53
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 54
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 55
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 56
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 57
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 58
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 59
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 60
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品信息，商品ID: 61
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 缓存未命中，商品ID: 62
2025-11-19 14:04:11 [http-nio-8080-exec-2] WARN  c.j.service.StoreProductCacheService - 商品ID在关系缓存中，但单个商品缓存不存在，从关系缓存移除，店铺ID: 1, 商品ID: 62
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 更新店铺商品ID列表缓存成功（Lua脚本），店铺ID: 1, 商品数量: 22, 版本号: 4
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从店铺关系缓存移除商品ID，店铺ID: 1, 商品ID: 62
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.j.service.StoreProductCacheService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 22
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG c.jiaoyi.service.StoreProductService - 从缓存获取店铺商品列表，店铺ID: 1, 商品数量: 22
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(code=200, message=查询成功, data=[StoreProduct(id=1, storeId=1, productName=iPhone 15 Pro, d (truncated)...]
2025-11-19 14:04:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 1
2025-11-19 14:04:12 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点0扫描到 1 条待发送的outbox消息，节点索引: 0, 负责分片: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
2025-11-19 14:04:12 [outbox-node] DEBUG com.jiaoyi.service.OutboxService - 已发送消息到RocketMQ，Topic: product-cache-update-topic, Tag: update, MessageKey: 73
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==>  Preparing: UPDATE outbox SET status = 'SENT', sent_at = ? WHERE id = ?
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - ==> Parameters: 2025-11-19T14:04:12.390472400(LocalDateTime), 21(Long)
2025-11-19 14:04:12 [outbox-node] DEBUG c.j.m.O.updateStatusToSent - <==    Updates: 1
2025-11-19 14:04:12 [outbox-node] INFO  com.jiaoyi.service.OutboxService - Outbox消息发送成功，ID: 21, Topic: product-cache-update-topic, Tag: update
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] INFO  c.j.s.StoreProductCacheUpdateMessageService - 接收到店铺商品缓存更新消息（Outbox模式），店铺ID: 1, 商品ID: 73, 操作类型: CREATE
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.service.StoreProductCacheService - 缓存店铺商品信息成功（Lua脚本更新Hash），商品ID: 73, 版本号: 1
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] INFO  c.j.s.StoreProductCacheUpdateMessageService - 店铺商品缓存更新成功（CREATE），店铺ID: 1, 商品ID: 73, 版本号: 1
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - ==>  Preparing: SELECT product_list_version FROM stores WHERE id = ?
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - ==> Parameters: 1(Long)
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.getProductListVersion - <==      Total: 1
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - ==>  Preparing: SELECT * FROM store_products WHERE store_id = ? AND is_delete = 0 ORDER BY create_time DESC
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - ==> Parameters: 1(Long)
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.m.S.selectByStoreId - <==      Total: 24
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.service.StoreProductCacheService - 店铺商品ID列表缓存版本号不够新，跳过更新，店铺ID: 1, 版本号: 4
2025-11-19 14:04:12 [ConsumeMessageThread_product-cache-update-consumer-group_1] DEBUG c.j.s.StoreProductCacheUpdateMessageService - 从数据库刷新店铺商品关系缓存，店铺ID: 1, 商品数量: 24, 版本号: 4
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:04:48.415939500(LocalDateTime), 2(Long)
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:04:58.465946900(LocalDateTime), 2(Long)
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:04:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:04:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:04:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:05:08.506729400(LocalDateTime), 2(Long)
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:05:18.544740600(LocalDateTime), 2(Long)
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:05:28.580810100(LocalDateTime), 2(Long)
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:04:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:05:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:05:02.043774800(LocalDateTime), 100(Integer)
2025-11-19 14:05:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:05:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:05:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:05:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:05:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:05:38.626459300(LocalDateTime), 2(Long)
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:05:48.667173500(LocalDateTime), 2(Long)
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:05:58.701706400(LocalDateTime), 2(Long)
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:05:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:05:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:05:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:06:08.742665700(LocalDateTime), 2(Long)
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:06:18.775072500(LocalDateTime), 2(Long)
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:06:28.811513800(LocalDateTime), 2(Long)
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:05:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:06:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:06:02.046391100(LocalDateTime), 100(Integer)
2025-11-19 14:06:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:06:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:06:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:06:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:06:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:06:38.845311(LocalDateTime), 2(Long)
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:06:48.881274800(LocalDateTime), 2(Long)
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:06:58.929149300(LocalDateTime), 2(Long)
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:06:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:06:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:06:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:07:08.976478400(LocalDateTime), 2(Long)
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:07:19.010398100(LocalDateTime), 2(Long)
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:07:29.045751900(LocalDateTime), 2(Long)
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:06:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:07:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:07:02.051099200(LocalDateTime), 100(Integer)
2025-11-19 14:07:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:07:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:07:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:07:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:07:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:07:39.074376300(LocalDateTime), 2(Long)
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:07:49.100182900(LocalDateTime), 2(Long)
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:07:59.129732300(LocalDateTime), 2(Long)
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:07:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:07:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:07:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:08:09.159533900(LocalDateTime), 2(Long)
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:08:19.185624(LocalDateTime), 2(Long)
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:08:29.208893300(LocalDateTime), 2(Long)
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:07:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:08:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:08:02.052365900(LocalDateTime), 100(Integer)
2025-11-19 14:08:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:08:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:08:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:08:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:08:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:08:39.241546500(LocalDateTime), 2(Long)
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:08:49.310031(LocalDateTime), 2(Long)
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:08:59.334769800(LocalDateTime), 2(Long)
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:08:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:08:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:08:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:09:09.359634300(LocalDateTime), 2(Long)
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:09:19.385705500(LocalDateTime), 2(Long)
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:09:29.407363(LocalDateTime), 2(Long)
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:08:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:02 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:29:02.042765300(LocalDateTime)
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:09:02.053732200(LocalDateTime), 100(Integer)
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:09:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:09:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:09:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:09:39.433209900(LocalDateTime), 2(Long)
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:09:49.454340400(LocalDateTime), 2(Long)
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:09:59.482249(LocalDateTime), 2(Long)
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:09:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:09:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:09:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:10:09.506222600(LocalDateTime), 2(Long)
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:10:19.533193100(LocalDateTime), 2(Long)
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:10:29.557008(LocalDateTime), 2(Long)
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:09:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:10:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:10:02.056597600(LocalDateTime), 100(Integer)
2025-11-19 14:10:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:10:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:10:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:10:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:10:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:10:39.587874200(LocalDateTime), 2(Long)
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:10:49.616786100(LocalDateTime), 2(Long)
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:10:59.640378700(LocalDateTime), 2(Long)
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:10:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:10:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:10:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:11:09.669129800(LocalDateTime), 2(Long)
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:11:19.698116800(LocalDateTime), 2(Long)
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:11:29.720237900(LocalDateTime), 2(Long)
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:10:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:11:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:11:02.059230100(LocalDateTime), 100(Integer)
2025-11-19 14:11:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:11:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:11:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:11:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:11:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:11:39.748174600(LocalDateTime), 2(Long)
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:11:49.771693800(LocalDateTime), 2(Long)
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:11:59.800924300(LocalDateTime), 2(Long)
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:11:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:11:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:11:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:12:09.820815300(LocalDateTime), 2(Long)
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:12:19.838420600(LocalDateTime), 2(Long)
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:49 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:51 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:53 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:55 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:57 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:12:29.860803700(LocalDateTime), 2(Long)
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:11:59 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:01 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:12:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:12:02.061078(LocalDateTime), 100(Integer)
2025-11-19 14:12:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:12:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:12:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:12:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:12:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:03 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:05 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:07 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:12:39.882707300(LocalDateTime), 2(Long)
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:09 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:11 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:13 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:15 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:17 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:12:49.908747500(LocalDateTime), 2(Long)
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:19 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:21 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:23 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:25 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:27 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:12:59.936525100(LocalDateTime), 2(Long)
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:29 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:31 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:12:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:12:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:12:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:33 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:35 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:37 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:13:09.971557800(LocalDateTime), 2(Long)
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:39 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:41 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:43 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:45 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:47 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:13:20.001400400(LocalDateTime), 2(Long)
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:12:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:13:30.026804200(LocalDateTime), 2(Long)
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:13:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:13:02.063131900(LocalDateTime), 100(Integer)
2025-11-19 14:13:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:13:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:13:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:13:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:13:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:06 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:08 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:13:40.060858100(LocalDateTime), 2(Long)
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:10 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:12 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:14 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:16 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:18 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:13:50.086882(LocalDateTime), 2(Long)
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:20 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:22 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:24 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:26 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:28 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:14:00.120354600(LocalDateTime), 2(Long)
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:30 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:32 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:13:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:13:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 0秒前) [当前节点]
2025-11-19 14:13:32 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:32 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:34 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:36 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:38 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:14:10.151530100(LocalDateTime), 2(Long)
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:40 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:42 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:44 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:46 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:48 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:14:20.183360(LocalDateTime), 2(Long)
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:50 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:52 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:54 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:56 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:13:58 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==>  Preparing: UPDATE outbox_node SET expired_time = ?, updated_at = NOW() WHERE id = ?
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - ==> Parameters: 2025-11-19T14:14:30.212607500(LocalDateTime), 2(Long)
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.updateExpiredTime - <==    Updates: 1
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:14:00 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:14:02 [scheduling-1] INFO  c.j.s.OrderTimeoutFallbackService - 开始执行订单超时兜底检查任务
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==>  Preparing: SELECT * FROM orders WHERE status = 'PENDING' AND create_time < ? ORDER BY create_time ASC
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - ==> Parameters: 2025-11-19T13:34:02.046620200(LocalDateTime)
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectTimeoutOrders - <==      Total: 0
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.s.OrderTimeoutFallbackService - 未发现超时订单
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE expired_time <= ? ORDER BY id DESC LIMIT ?
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - ==> Parameters: 2025-11-19T14:14:02.065544700(LocalDateTime), 100(Integer)
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectExpiredNodes - <==      Total: 0
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:14:02 [scheduling-1] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:14:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ========== Outbox节点状态 ==========
2025-11-19 14:14:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - 总活跃节点数: 1 (总启用节点数: 1)
2025-11-19 14:14:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService -   节点索引 0: 192.168.0.120:8080 (ID: 2, Redis心跳: 1秒前) [当前节点]
2025-11-19 14:14:02 [scheduling-1] INFO  com.jiaoyi.service.OutboxService - ==================================
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:14:02 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==>  Preparing: SELECT * FROM outbox_node WHERE enabled = 1 AND expired_time > ? ORDER BY id DESC
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - ==> Parameters: 1000-01-01T00:00(LocalDateTime)
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectAvailableNodes - <==      Total: 1
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==>  Preparing: SELECT * FROM outbox WHERE status = 'PENDING' AND shard_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY created_at ASC LIMIT ?
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - ==> Parameters: 0(Integer), 1(Integer), 2(Integer), 3(Integer), 4(Integer), 5(Integer), 6(Integer), 7(Integer), 8(Integer), 9(Integer), 50(Integer)
2025-11-19 14:14:04 [outbox-node] DEBUG c.j.m.O.selectPendingMessagesByShard - <==      Total: 0
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='product-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='product-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='inventory-cache-update-consumer-group', namespace='', nameServer='localhost:9876', topic='inventory-cache-update-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='update', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - ========== 停止节点 ==========
2025-11-19 14:14:04 [outbox-node] INFO  com.jiaoyi.service.OutboxService - 节点处理线程已停止
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 已清理Redis心跳
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.jiaoyi.service.OutboxService - 节点已停止（数据库记录保留，通过expired_time判断存活）
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  o.a.r.s.s.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='order-timeout-consumer-group', namespace='', nameServer='localhost:9876', topic='order-timeout-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='timeout', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-19 14:14:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
